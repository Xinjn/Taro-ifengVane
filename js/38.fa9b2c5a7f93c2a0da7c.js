(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"298":function(e,c,t){e.exports={"search":"index-module__search___3PZgq","pageBody":"index-module__pageBody___2WQkG","result":"index-module__result___3o1Jk","resultTitle":"index-module__resultTitle___1JZwh"}},"300":function(e,c,t){e.exports={"hotSearch":"index-module__hotSearch___2ec4p","hotSearchTitle":"index-module__hotSearchTitle___3lGzM","hotSearchList":"index-module__hotSearchList___1cIRc","hotSearchItem":"index-module__hotSearchItem___39_8x","hotSearchText":"index-module__hotSearchText___1C6dE","hotSearchTextBox":"index-module__hotSearchTextBox___1Uhwa","hotSearchTextNum":"index-module__hotSearchTextNum___QRoPa"}},"301":function(e,c,t){e.exports={"hotRecommed":"index-module__hotRecommed___1JKx9","resultTitle":"index-module__resultTitle____8MIc","noSearchResult":"index-module__noSearchResult___1fZdf","noSearchIcon":"index-module__noSearchIcon___19KtX","noSearchText":"index-module__noSearchText___1l_F3"}},"302":function(e,c,t){e.exports={"hotRecommedItem":"index-module__hotRecommedItem___mP6Oc","hotRecommedImage":"index-module__hotRecommedImage___3LnuV","hotRecommedText":"index-module__hotRecommedText___1RzV3","hotRecommedSeriesTitle":"index-module__hotRecommedSeriesTitle___2esTi","hotRecommedSeries":"index-module__hotRecommedSeries___3mlSi","hotRecommedSeriesLeft":"index-module__hotRecommedSeriesLeft___1zd-S","hotRecommedSeriesRight":"index-module__hotRecommedSeriesRight___HR4aU","hotRecommedSeriesMark":"index-module__hotRecommedSeriesMark___2sDKp","hotRecommedSeriesMarkText":"index-module__hotRecommedSeriesMarkText___sIKG2","hotRecommedSeriesScore1":"index-module__hotRecommedSeriesScore1___1_tUU","hotRecommedSeriesScore2":"index-module__hotRecommedSeriesScore2___3r6L7","hotRecommedSeriesCrow":"index-module__hotRecommedSeriesCrow___2Bfpy","hotRecommedCrowScore":"index-module__hotRecommedCrowScore___2I59a","hotRecommedCrowScoreNo":"index-module__hotRecommedCrowScoreNo___1LQZZ","hotRecommedSeriesInfo":"index-module__hotRecommedSeriesInfo___2hNyh","hotRecommedSeriesText":"index-module__hotRecommedSeriesText___2oLBm"}},"303":function(e,c,t){e.exports={"hotRecommed":"index-module__hotRecommed___3rI6j","hotRecommedTitle":"index-module__hotRecommedTitle___1Sk-B"}},"409":function(e,c,t){"use strict";t.r(c);var o=t(12),a=t(1),r=t(26),s=t(143),i=t(298),n=t.n(i),m=t(149),d=t(240),h=t(0),l=t.n(h),_=t(4),u=t(300),x=t.n(u),j=t(45),S=t(222),b=t(144),O=t(142),p=Object(b.a)((function HotSearch(){var e=Object(r.useState)([]),c=Object(o.a)(e,2),t=c[0],a=c[1],i=function dataGroup(e,c){if(e.length%c)for(var t=0,o=c-e.length%c;t<o;t++)e.push({"title":"","dramaId":""});for(var a=[],r=0,s=e.length;r<s;r+=c)a.push(e.slice(r,r+c));return a},n=function(){var e=Object(_.a)(l.a.mark((function _callee(){var e;return l.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(S.e)();case 2:(e=c.sent).length>0&&(e=e.slice(0,9),e=i(e,3),a(e));case 4:case"end":return c.stop()}}),_callee)})));return function getAsyncData(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),t.length>0?Object(O.jsxs)(s.View,{"className":x.a.hotSearch,"children":[Object(O.jsx)(s.View,{"className":x.a.hotSearchTitle,"children":"热门搜索"}),Object(O.jsx)(s.View,{"className":x.a.hotSearchList,"children":t.map((function(e,c){return Object(O.jsx)(s.View,{"className":x.a.hotSearchItem,"children":e.map((function(e,c){return Object(O.jsx)(s.View,{"className":x.a.hotSearchText,"children":e.title&&Object(O.jsx)(s.View,{"className":x.a.hotSearchTextBox,"children":Object(O.jsx)(s.View,{"className":x.a.hotSearchTextNum,"onClick":function onClick(){Object(j.e)("/pages/subPages/detail/index?dramaId=".concat(e.dramaId,"&shareLine=id-").concat(e.dramaId,"!type-ch"))},"children":e.title})})},c)}))},c)}))})]}):null})),R=t(301),w=t.n(R),f=t(172),g=t(302),N=t.n(g),T=t(171),I=Object(b.a)((function SearchFeed(e){var c=e.feedData,t=e.isFromSourch;return c&&c.length>0&&Object(O.jsx)(s.View,{"className":N.a.hotRecommedList,"children":c.map((function(e,c){var o=e.showTime&&new Date(parseInt(e.showTime)),a=e.showTime&&o.getFullYear(),r=e.showTime&&o.getMonth()+1,i=e.showTime&&o.getDate(),n=e.showTime?"".concat(a,"-").concat(r,"-").concat(i):"",m=e.category&&T.a[e.category]||"",d=e.coverImage&&JSON.parse(e.coverImage)&&JSON.parse(e.coverImage)[0]&&Object(f.a)(JSON.parse(e.coverImage)[0],130,180,100)||"",h=t?"/pages/subPages/detail/index?dramaId=".concat(e.dramaId,"&isFromSourch=1&shareLine=id-").concat(e.dramaId,"!type-ch"):"/pages/subPages/detail/index?dramaId=".concat(e.dramaId,"&shareLine=id-").concat(e.dramaId,"!type-ch");return Object(O.jsxs)(s.View,{"className":N.a.hotRecommedItem,"onClick":function onClick(){Object(j.e)(h)},"children":[Object(O.jsx)(s.Image,{"mode":"aspectFit","src":d,"className":N.a.hotRecommedImage}),Object(O.jsxs)(s.View,{"className":N.a.hotRecommedText,"children":[Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeries,"children":[Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesLeft,"children":[Object(O.jsx)(s.View,{"className":N.a.hotRecommedSeriesTitle,"children":e.title}),m&&Object(O.jsx)(s.View,{"className":N.a.hotRecommedSeriesMark,"children":Object(O.jsx)(s.Text,{"className":N.a.hotRecommedSeriesMarkText,"children":m})})]}),Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesRight,"children":[Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesScore1,"children":[Object(O.jsx)(s.View,{"className":N.a.hotRecommedSeriesCrow,"children":"大众："}),e.publicScore&&0!==parseInt(e.publicScore)&&e.publicScorePeople>=100?Object(O.jsx)(s.View,{"className":N.a.hotRecommedCrowScore,"children":Object(j.g)(e.publicScore)}):Object(O.jsx)(s.View,{"className":N.a.hotRecommedCrowScoreNo,"children":"暂无"})]}),Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesScore2,"children":[Object(O.jsx)(s.View,{"className":N.a.hotRecommedSeriesCrow,"children":"专家："}),e.performanceScore&&0!==parseInt(e.performanceScore)?Object(O.jsx)(s.View,{"className":N.a.hotRecommedCrowScore,"children":Object(j.g)(e.performanceScore)}):Object(O.jsx)(s.View,{"className":N.a.hotRecommedCrowScoreNo,"children":"暂无"})]})]})]}),Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesInfo,"children":[Object(O.jsxs)(s.View,{"className":N.a.hotRecommedSeriesText,"children":[n,"上映"]}),Object(O.jsx)(s.View,{"className":N.a.hotRecommedSeriesText,"children":e.publicScorePeople&&e.publicScorePeople>=1e3?"累计".concat(e.publicScorePeople,"人参与评分"):""})]})]})]},c)}))})})),V=Object(b.a)((function SearchResult(e){var c=e.searchText,t=Object(r.useState)([]),i=Object(o.a)(t,2),n=i[0],m=i[1],d=Object(r.useState)(!0),h=Object(o.a)(d,2),u=h[0],x=h[1],j=Object(r.useState)(!1),b=Object(o.a)(j,2),p=b[0],R=b[1],f=Object(r.useState)(1),g=Object(o.a)(f,2),N=g[0],T=g[1],V=function(){var e=Object(_.a)(l.a.mark((function _callee(e,c,t){var o,a;return l.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:return o=t?[]:n,r.next=3,Object(S.a)(e,c);case 3:(a=r.sent).length>0?o=o.concat(a):x(!1),m(o),R(!0);case 7:case"end":return r.stop()}}),_callee)})));return function getAsyncData(c,t,o){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){T(1),m([]),x(!0),V(c,1,!0)}),[c]),a.default.useReachBottom((function(){if(!u)return!1;var e=N;e++,T(e),V(c,e,!1)})),Object(O.jsxs)(s.View,{"className":w.a.hotRecommed,"children":[n.length>0&&Object(O.jsx)(I,{"isFromSourch":!0,"feedData":n}),0===n.length&&p&&Object(O.jsxs)(s.View,{"className":w.a.noSearchResult,"children":[Object(O.jsx)(s.View,{"className":w.a.noSearchIcon}),Object(O.jsx)(s.View,{"className":w.a.noSearchText,"children":"未找到相关信息，建议尝试更换关键词"})]})]})})),v=t(303),C=t.n(v),k=Object(b.a)((function HotRecommend(){var e=Object(r.useState)([]),c=Object(o.a)(e,2),t=c[0],a=c[1],i=function(){var e=Object(_.a)(l.a.mark((function _callee(){var e;return l.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(S.c)();case 2:(e=c.sent).length>0&&(e=e.slice(0,6),a(e));case 4:case"end":return c.stop()}}),_callee)})));return function getAsyncData(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),Object(O.jsxs)(s.View,{"className":C.a.hotRecommed,"children":[Object(O.jsx)(s.View,{"className":C.a.hotRecommedTitle,"children":"热门推荐"}),t.length>0&&Object(O.jsx)(I,{"feedData":t})]})})),y=t(224);c.default=Object(b.b)((function Search(){var e=Object(r.useState)(""),c=Object(o.a)(e,2),t=c[0],i=c[1],h=Object(r.useCallback)((function(e){i(e)}),[t]);a.default.useShareAppMessage((function(e){return{"title":"凤娱指数-影剧综榜单","path":"pages/subPages/search/index"}}));return Object(O.jsxs)(s.View,{"className":n.a.search,"children":[Object(O.jsx)(m.a,{"content":{"title":"凤娱指数-影剧综榜单","imageUrl":"https://x0.ifengimg.com/ucms/2021_47/027B7788BC18A519F99A1372340EA4DBFB3A7149_size52_w750_h466.png","prevIcon":"https://x0.ifengimg.com/ucms/2021_47/4DC9914EAD905A00A1F206287906F54422AAA993_size1_w80_h88.png","moreIcon":"https://x0.ifengimg.com/ucms/2021_47/F8097E8F89C929E2EDE42074519E4B35D8B418FC_size1_w96_h88.png","fizeColor":"#000000"}}),Object(O.jsxs)(s.View,{"className":n.a.pageBody,"children":[Object(O.jsx)(d.a,{"searchText":t,"searchTextChangeHandle":h}),t?Object(O.jsx)(s.View,{"className":n.a.hotModule,"children":Object(O.jsx)(V,{"searchText":t})}):Object(O.jsxs)(s.View,{"className":n.a.hotModule,"children":[Object(O.jsx)(p,{}),Object(O.jsx)(k,{}),Object(O.jsx)(y.a,{})]})]})]})}))}}]);