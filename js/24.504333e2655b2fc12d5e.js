/*! For license information please see 24.504333e2655b2fc12d5e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"142":function(t,e,i){"use strict";t.exports=i(153)},"143":function(t,e,i){"use strict";i.r(e),i.d(e,"View",(function(){return _})),i.d(e,"Icon",(function(){return E})),i.d(e,"Progress",(function(){return j})),i.d(e,"RichText",(function(){return T})),i.d(e,"Text",(function(){return N})),i.d(e,"Button",(function(){return k})),i.d(e,"Checkbox",(function(){return S})),i.d(e,"CheckboxGroup",(function(){return P})),i.d(e,"Editor",(function(){return L})),i.d(e,"Form",(function(){return A})),i.d(e,"Input",(function(){return B})),i.d(e,"Label",(function(){return z})),i.d(e,"Picker",(function(){return R})),i.d(e,"PickerView",(function(){return W})),i.d(e,"PickerViewColumn",(function(){return H})),i.d(e,"Radio",(function(){return I})),i.d(e,"RadioGroup",(function(){return Y})),i.d(e,"Slider",(function(){return X})),i.d(e,"Switch",(function(){return U})),i.d(e,"CoverImage",(function(){return F})),i.d(e,"Textarea",(function(){return K})),i.d(e,"CoverView",(function(){return V})),i.d(e,"MovableArea",(function(){return $})),i.d(e,"MovableView",(function(){return G})),i.d(e,"ScrollView",(function(){return Z})),i.d(e,"Swiper",(function(){return Q})),i.d(e,"SwiperItem",(function(){return J})),i.d(e,"FunctionalPageNavigator",(function(){return tt})),i.d(e,"Navigator",(function(){return et})),i.d(e,"Audio",(function(){return it})),i.d(e,"Camera",(function(){return rt})),i.d(e,"Image",(function(){return at})),i.d(e,"LivePlayer",(function(){return ot})),i.d(e,"Video",(function(){return nt})),i.d(e,"Map",(function(){return st})),i.d(e,"Canvas",(function(){return ct})),i.d(e,"Ad",(function(){return ht})),i.d(e,"OfficialAccount",(function(){return lt})),i.d(e,"OpenData",(function(){return dt})),i.d(e,"WebView",(function(){return pt})),i.d(e,"NavigationBar",(function(){return ut})),i.d(e,"Block",(function(){return ft})),i.d(e,"CustomWrapper",(function(){return mt}));var r=i(42),a=i.n(r),o=i(154),n=i.n(o),s=i(28),c=i.n(s),h=i(43),l=i.n(h),d=i(44),p=i.n(d),u=i(158),f=i.n(u),m=i(160),g=i.n(m),v=i(162),b=i.n(v),y=i(163),w=i.n(y),x=i(26),C=i.n(x);function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,r=b()(t);if(e){var a=b()(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return g()(this,i)}}C.a.createElement;function updateStyle(t,e,i){/^--/.test(e)?t.style.setProperty(e,i):t.style[e]=i}function updateProp(t,e,i,r,a){var o=t.ref.current,n=a[i],s=r?r[i]:void 0;if("children"!==i)if("classname"!==i.toLowerCase())if("style"!==i){if(/^data-.+/.test(i)&&o.setAttribute(i,n),"taro-scroll-view-core"===e){if("scrollTop"===i)return void(o.mpScrollTop=n);if("scrollLeft"===i)return void(o.mpScrollLeft=n);if("scrollIntoView"===i)return void(o.mpScrollIntoView=n)}if("function"==typeof n&&i.match(/^on[A-Z]/)){var c=i.substr(2).toLowerCase(),h=n;return"taro-scroll-view-core"===e&&"scroll"===c&&(h=function fn(t){t instanceof CustomEvent&&n.apply(null,Array.from(arguments))}),t.eventHandlers.push([c,h]),o.addEventListener(c,h)}if("string"!=typeof n&&"number"!=typeof n)return"boolean"==typeof n?n?(o[i]=!0,o.setAttribute(i,n)):(o[i]=!1,o.removeAttribute(i)):void(o[i]=n);o[i]=n}else{if("string"==typeof n)return void o.setAttribute(i,n);if(!n)return void o.removeAttribute(i);if(r)if("string"==typeof s)o.style.cssText="";else for(var l in s)updateStyle(o,l,"");for(var d in n)updateStyle(o,d,n[d])}else o.className=r?function getClassName(t,e,i){var r=Array.from(t.classList),a=(e.className||e.class||"").split(" "),o=(i.className||i.class||"").split(" "),n=[];return r.forEach((function(t){o.indexOf(t)>-1?(n.push(t),o=o.filter((function(e){return e!==t}))):-1===a.indexOf(t)&&n.push(t)})),(n=[].concat(w()(n),w()(o))).join(" ")}(o,r,a):n}var O=function reactifyWebComponent(t){var e=function(e){f()(Index,e);var i=_createSuper(Index);function Index(t){var e;return l()(this,Index),(e=i.call(this,t)).eventHandlers=[],e.ref=Object(x.createRef)(),e}return p()(Index,[{"key":"update","value":function update(e){var i=this;this.clearEventHandlers(),this.ref.current&&(Object.keys(e||{}).forEach((function(r){"children"===r||"key"===r||r in i.props||updateProp(i,t,r,e,i.props)})),Object.keys(this.props).forEach((function(r){updateProp(i,t,r,e,i.props)})))}},{"key":"componentDidUpdate","value":function componentDidUpdate(t){this.update(t)}},{"key":"componentDidMount","value":function componentDidMount(){var t=this.props.forwardRef;"function"==typeof t?t(this.ref.current):t&&"object"===c()(t)&&t.hasOwnProperty("current")?t.current=this.ref.current:"string"==typeof t&&console.warn("内置组件不支持字符串 ref"),this.update()}},{"key":"componentWillUnmount","value":function componentWillUnmount(){this.clearEventHandlers()}},{"key":"clearEventHandlers","value":function clearEventHandlers(){var t=this;this.eventHandlers.forEach((function(e){var i=n()(e,2),r=i[0],a=i[1];t.ref.current&&t.ref.current.removeEventListener(r,a)})),this.eventHandlers=[]}},{"key":"render","value":function render(){var e=this.props,i=e.children,r=e.dangerouslySetInnerHTML,a={"ref":this.ref};return r&&(a.dangerouslySetInnerHTML=r),Object(x.createElement)(t,a,i)}}]),Index}(C.a.Component);return C.a.forwardRef((function(t,i){return C.a.createElement(e,_objectSpread(_objectSpread({},t),{},{"forwardRef":i}))}))};function input_ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function input_objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?input_ownKeys(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):input_ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var M=O("taro-input-core"),D=(C.a.createElement,C.a.forwardRef((function(t,e){var i=input_objectSpread({},t);return i.hasOwnProperty("focus")&&(i.autoFocus=Boolean(i.focus),delete i.focus),C.a.createElement(M,input_objectSpread(input_objectSpread({},i),{},{"ref":e}))}))),_=O("taro-view-core"),E=O("taro-icon-core"),j=O("taro-progress-core"),T=O("taro-rich-text-core"),N=O("taro-text-core"),k=O("taro-button-core"),S=O("taro-checkbox-core"),P=O("taro-checkbox-group-core"),L=O("taro-editor-core"),A=O("taro-form-core"),B=D,z=O("taro-label-core"),R=O("taro-picker-core"),W=O("taro-picker-view-core"),H=O("taro-picker-view-column-core"),I=O("taro-radio-core"),Y=O("taro-radio-group-core"),X=O("taro-slider-core"),U=O("taro-switch-core"),F=O("taro-cover-image-core"),K=O("taro-textarea-core"),V=O("taro-cover-view-core"),$=O("taro-movable-area-core"),G=O("taro-movable-view-core"),Z=O("taro-scroll-view-core"),Q=O("taro-swiper-core"),J=O("taro-swiper-item-core"),tt=O("taro-functional-page-navigator-core"),et=O("taro-navigator-core"),it=O("taro-audio-core"),rt=O("taro-camera-core"),at=O("taro-image-core"),ot=O("taro-live-player-core"),nt=O("taro-video-core"),st=O("taro-map-core"),ct=O("taro-canvas-core"),ht=O("taro-ad-core"),lt=O("taro-official-account-core"),dt=O("taro-open-data-core"),pt=O("taro-web-view-core"),ut=O("taro-navigation-bar-core"),ft=O("taro-block-core"),mt=O("taro-custom-wrapper-core")},"146":function(t,e,i){var r=i(147);t.exports=function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},"147":function(t,e){t.exports=function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r},t.exports.default=t.exports,t.exports.__esModule=!0},"148":function(t,e){(function(e){t.exports=e}).call(this,{})},"153":function(t,e,i){"use strict";i(46);var r=i(26),a=60103;if(e.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),e.Fragment=o("react.fragment")}var n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={"key":!0,"ref":!0,"__self":!0,"__source":!0};function q(t,e,i){var r,o={},h=null,l=null;for(r in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!c.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{"$$typeof":a,"type":t,"key":h,"ref":l,"props":o,"_owner":n.current}}e.jsx=q,e.jsxs=q},"154":function(t,e,i){var r=i(155),a=i(156),o=i(146),n=i(157);t.exports=function _slicedToArray(t,e){return r(t)||a(t,e)||o(t,e)||n()},t.exports.default=t.exports,t.exports.__esModule=!0},"155":function(t,e){t.exports=function _arrayWithHoles(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},"156":function(t,e){t.exports=function _iterableToArrayLimit(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=i){var r,a,o=[],n=!0,s=!1;try{for(i=i.call(t);!(n=(r=i.next()).done)&&(o.push(r.value),!e||o.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{n||null==i.return||i.return()}finally{if(s)throw a}}return o}},t.exports.default=t.exports,t.exports.__esModule=!0},"157":function(t,e){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},"158":function(t,e,i){var r=i(159);t.exports=function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{"constructor":{"value":t,"writable":!0,"configurable":!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},"159":function(t,e){function _setPrototypeOf(e,i){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},t.exports.default=t.exports,t.exports.__esModule=!0,_setPrototypeOf(e,i)}t.exports=_setPrototypeOf,t.exports.default=t.exports,t.exports.__esModule=!0},"160":function(t,e,i){var r=i(28).default,a=i(161);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},"161":function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},"162":function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,_getPrototypeOf(e)}t.exports=_getPrototypeOf,t.exports.default=t.exports,t.exports.__esModule=!0},"163":function(t,e,i){var r=i(164),a=i(165),o=i(146),n=i(166);t.exports=function _toConsumableArray(t){return r(t)||a(t)||o(t)||n()},t.exports.default=t.exports,t.exports.__esModule=!0},"164":function(t,e,i){var r=i(147);t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},"165":function(t,e){t.exports=function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},"166":function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},"355":function(t,e,i){"use strict";var r=i(26),a=i.n(r),o=i(356),n=i.n(o),s=function __assign(){return(s=Object.assign||function __assign(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function __rest(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(i[r[a]]=t[r[a]])}return i}var c=a.a.forwardRef((function(t,e){var i=__rest(t,[]),o=i.dragMode,c=void 0===o?"crop":o,h=i.src,l=i.style,d=i.className,p=i.crossOrigin,u=i.scaleX,f=i.scaleY,m=i.enable,g=i.zoomTo,v=i.rotateTo,b=i.alt,y=void 0===b?"picture":b,w=i.ready,x=i.onInitialized,C=__rest(i,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),O={"scaleY":f,"scaleX":u,"enable":m,"zoomTo":g,"rotateTo":v},M=function useCombinedRefs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=Object(r.useRef)(null);return a.a.useEffect((function(){t.forEach((function(t){t&&("function"==typeof t?t(i.current):t.current=i.current)}))}),[t]),i}(e,Object(r.useRef)(null));return Object(r.useEffect)((function(){var t;(null===(t=M.current)||void 0===t?void 0:t.cropper)&&"number"==typeof g&&M.current.cropper.zoomTo(g)}),[i.zoomTo]),Object(r.useEffect)((function(){var t;(null===(t=M.current)||void 0===t?void 0:t.cropper)&&void 0!==h&&M.current.cropper.reset().clear().replace(h)}),[h]),Object(r.useEffect)((function(){if(null!==M.current){var t=new n.a(M.current,s(s({"dragMode":c},C),{"ready":function ready(t){null!==t.currentTarget&&function applyDefaultOptions(t,e){void 0===e&&(e={});var i=e.enable,r=void 0===i||i,a=e.scaleX,o=void 0===a?1:a,n=e.scaleY,s=void 0===n?1:n,c=e.zoomTo,h=void 0===c?0:c,l=e.rotateTo;r?t.enable():t.disable(),t.scaleX(o),t.scaleY(s),void 0!==l&&t.rotateTo(l),h>0&&t.zoomTo(h)}(t.currentTarget.cropper,O),w&&w(t)}}));x&&x(t)}return function(){var t,e;null===(e=null===(t=M.current)||void 0===t?void 0:t.cropper)||void 0===e||e.destroy()}}),[M]),a.a.createElement("div",{"style":l,"className":d},a.a.createElement("img",{"crossOrigin":p,"src":h,"alt":y,"style":{"opacity":0,"maxWidth":"100%"},"ref":M}))}));e.a=c},"356":function(t,e,i){var r,a,o,n=i(27);o=function(){"use strict";function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach((function(e){_defineProperty(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{"value":i,"enumerable":!0,"configurable":!0,"writable":!0}):t[e]=i,t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var t="undefined"!=typeof window&&void 0!==window.document,e=t?window:{},i=!(!t||!e.document.documentElement)&&"ontouchstart"in e.document.documentElement,r=!!t&&"PointerEvent"in e,a="".concat("cropper","-crop"),o="".concat("cropper","-disabled"),n="".concat("cropper","-hidden"),s="".concat("cropper","-hide"),c="".concat("cropper","-invisible"),h="".concat("cropper","-modal"),l="".concat("cropper","-move"),d="".concat("cropper","Action"),p="".concat("cropper","Preview"),u=r?"pointerdown":i?"touchstart":"mousedown",f=r?"pointermove":i?"touchmove":"mousemove",m=r?"pointerup pointercancel":i?"touchend touchcancel":"mouseup",g=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,v=/^data:/,b=/^data:image\/jpeg;base64,/,y=/^img|canvas$/i,w={"viewMode":0,"dragMode":"crop","initialAspectRatio":NaN,"aspectRatio":NaN,"data":null,"preview":"","responsive":!0,"restore":!0,"checkCrossOrigin":!0,"checkOrientation":!0,"modal":!0,"guides":!0,"center":!0,"highlight":!0,"background":!0,"autoCrop":!0,"autoCropArea":.8,"movable":!0,"rotatable":!0,"scalable":!0,"zoomable":!0,"zoomOnTouch":!0,"zoomOnWheel":!0,"wheelZoomRatio":.1,"cropBoxMovable":!0,"cropBoxResizable":!0,"toggleDragModeOnDblclick":!0,"minCanvasWidth":0,"minCanvasHeight":0,"minCropBoxWidth":0,"minCropBoxHeight":0,"minContainerWidth":200,"minContainerHeight":100,"ready":null,"cropstart":null,"cropmove":null,"cropend":null,"crop":null,"zoom":null},x=Number.isNaN||e.isNaN;function isNumber(t){return"number"==typeof t&&!x(t)}var C=function isPositiveNumber(t){return t>0&&t<1/0};function isUndefined(t){return void 0===t}function isObject(t){return"object"===_typeof(t)&&null!==t}var O=Object.prototype.hasOwnProperty;function isPlainObject(t){if(!isObject(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&O.call(i,"isPrototypeOf")}catch(t){return!1}}function isFunction(t){return"function"==typeof t}var M=Array.prototype.slice;function toArray(t){return Array.from?Array.from(t):M.call(t)}function forEach(t,e){return t&&isFunction(e)&&(Array.isArray(t)||isNumber(t.length)?toArray(t).forEach((function(i,r){e.call(t,i,r,t)})):isObject(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var D=Object.assign||function assign(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return isObject(t)&&i.length>0&&i.forEach((function(e){isObject(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},_=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return _.test(t)?Math.round(t*e)/e:t}var E=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(t,e){var i=t.style;forEach(e,(function(t,e){E.test(e)&&isNumber(t)&&(t="".concat(t,"px")),i[e]=t}))}function addClass(t,e){if(e)if(isNumber(t.length))forEach(t,(function(t){addClass(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function removeClass(t,e){e&&(isNumber(t.length)?forEach(t,(function(t){removeClass(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function toggleClass(t,e,i){e&&(isNumber(t.length)?forEach(t,(function(t){toggleClass(t,e,i)})):i?addClass(t,e):removeClass(t,e))}var j=/([a-z\d])([A-Z])/g;function toParamCase(t){return t.replace(j,"$1-$2").toLowerCase()}function getData(t,e){return isObject(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(toParamCase(e)))}function setData(t,e,i){isObject(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(toParamCase(e)),i)}var T=/\s\s*/,N=function(){var i=!1;if(t){var r=!1,a=function listener(){},o=Object.defineProperty({},"once",{"get":function get(){return i=!0,r},"set":function set(t){r=t}});e.addEventListener("test",a,o),e.removeEventListener("test",a,o)}return i}();function removeListener(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;e.trim().split(T).forEach((function(e){if(!N){var o=t.listeners;o&&o[e]&&o[e][i]&&(a=o[e][i],delete o[e][i],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,a,r)}))}function addListener(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;e.trim().split(T).forEach((function(e){if(r.once&&!N){var o=t.listeners,n=void 0===o?{}:o;a=function handler(){delete n[e][i],t.removeEventListener(e,a,r);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];i.apply(t,s)},n[e]||(n[e]={}),n[e][i]&&t.removeEventListener(e,n[e][i],r),n[e][i]=a,t.listeners=n}t.addEventListener(e,a,r)}))}function dispatchEvent(t,e,i){var r;return isFunction(Event)&&isFunction(CustomEvent)?r=new CustomEvent(e,{"detail":i,"bubbles":!0,"cancelable":!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(r)}function getOffset(t){var e=t.getBoundingClientRect();return{"left":e.left+(window.pageXOffset-document.documentElement.clientLeft),"top":e.top+(window.pageYOffset-document.documentElement.clientTop)}}var k=e.location,S=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(t){var e=t.match(S);return null!==e&&(e[1]!==k.protocol||e[2]!==k.hostname||e[3]!==k.port)}function addTimestamp(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function getTransforms(t){var e=t.rotate,i=t.scaleX,r=t.scaleY,a=t.translateX,o=t.translateY,n=[];isNumber(a)&&0!==a&&n.push("translateX(".concat(a,"px)")),isNumber(o)&&0!==o&&n.push("translateY(".concat(o,"px)")),isNumber(e)&&0!==e&&n.push("rotate(".concat(e,"deg)")),isNumber(i)&&1!==i&&n.push("scaleX(".concat(i,")")),isNumber(r)&&1!==r&&n.push("scaleY(".concat(r,")"));var s=n.length?n.join(" "):"none";return{"WebkitTransform":s,"msTransform":s,"transform":s}}function getPointer(t,e){var i=t.pageX,r=t.pageY,a={"endX":i,"endY":r};return e?a:_objectSpread2({"startX":i,"startY":r},a)}function getAdjustedSizes(t){var e=t.aspectRatio,i=t.height,r=t.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=C(r),n=C(i);if(o&&n){var s=i*e;"contain"===a&&s>r||"cover"===a&&s<r?i=r/e:r=i*e}else o?i=r/e:n&&(r=i*e);return{"width":r,"height":i}}function getSourceCanvas(t,e,i,r){var a=e.aspectRatio,o=e.naturalWidth,n=e.naturalHeight,s=e.rotate,c=void 0===s?0:s,h=e.scaleX,l=void 0===h?1:h,d=e.scaleY,p=void 0===d?1:d,u=i.aspectRatio,f=i.naturalWidth,m=i.naturalHeight,g=r.fillColor,v=void 0===g?"transparent":g,b=r.imageSmoothingEnabled,y=void 0===b||b,w=r.imageSmoothingQuality,x=void 0===w?"low":w,C=r.maxWidth,O=void 0===C?1/0:C,M=r.maxHeight,D=void 0===M?1/0:M,_=r.minWidth,E=void 0===_?0:_,j=r.minHeight,T=void 0===j?0:j,N=document.createElement("canvas"),k=N.getContext("2d"),S=getAdjustedSizes({"aspectRatio":u,"width":O,"height":D}),P=getAdjustedSizes({"aspectRatio":u,"width":E,"height":T},"cover"),L=Math.min(S.width,Math.max(P.width,f)),A=Math.min(S.height,Math.max(P.height,m)),B=getAdjustedSizes({"aspectRatio":a,"width":O,"height":D}),z=getAdjustedSizes({"aspectRatio":a,"width":E,"height":T},"cover"),R=Math.min(B.width,Math.max(z.width,o)),W=Math.min(B.height,Math.max(z.height,n)),H=[-R/2,-W/2,R,W];return N.width=normalizeDecimalNumber(L),N.height=normalizeDecimalNumber(A),k.fillStyle=v,k.fillRect(0,0,L,A),k.save(),k.translate(L/2,A/2),k.rotate(c*Math.PI/180),k.scale(l,p),k.imageSmoothingEnabled=y,k.imageSmoothingQuality=x,k.drawImage.apply(k,[t].concat(_toConsumableArray(H.map((function(t){return Math.floor(normalizeDecimalNumber(t))}))))),k.restore(),N}var P=String.fromCharCode,L=/^data:.*,/;function resetAndGetOrientation(t){var e,i=new DataView(t);try{var r,a,o;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var n=i.byteLength,s=2;s+1<n;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){a=s;break}s+=1}if(a){var c=a+10;if("Exif"===function getStringFromCharCode(t,e,i){var r="";i+=e;for(var a=e;a<i;a+=1)r+=P(t.getUint8(a));return r}(i,a+4,4)){var h=i.getUint16(c);if(((r=18761===h)||19789===h)&&42===i.getUint16(c+2,r)){var l=i.getUint32(c+4,r);l>=8&&(o=c+l)}}}if(o){var d,p,u=i.getUint16(o,r);for(p=0;p<u;p+=1)if(d=o+12*p+2,274===i.getUint16(d,r)){d+=8,e=i.getUint16(d,r),i.setUint16(d,1,r);break}}}catch(t){e=1}return e}var A={"render":function render(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"initContainer":function initContainer(){var t=this.element,e=this.options,i=this.container,r=this.cropper,a=Number(e.minContainerWidth),o=Number(e.minContainerHeight);addClass(r,n),removeClass(t,n);var s={"width":Math.max(i.offsetWidth,a>=0?a:200),"height":Math.max(i.offsetHeight,o>=0?o:100)};this.containerData=s,setStyle(r,{"width":s.width,"height":s.height}),addClass(t,n),removeClass(r,n)},"initCanvas":function initCanvas(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,r=Math.abs(e.rotate)%180==90,a=r?e.naturalHeight:e.naturalWidth,o=r?e.naturalWidth:e.naturalHeight,n=a/o,s=t.width,c=t.height;t.height*n>t.width?3===i?s=t.height*n:c=t.width/n:3===i?c=t.width/n:s=t.height*n;var h={"aspectRatio":n,"naturalWidth":a,"naturalHeight":o,"width":s,"height":c};this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=D({},h)},"limitCanvas":function limitCanvas(t,e){var i=this.options,r=this.containerData,a=this.canvasData,o=this.cropBoxData,n=i.viewMode,s=a.aspectRatio,c=this.cropped&&o;if(t){var h=Number(i.minCanvasWidth)||0,l=Number(i.minCanvasHeight)||0;n>1?(h=Math.max(h,r.width),l=Math.max(l,r.height),3===n&&(l*s>h?h=l*s:l=h/s)):n>0&&(h?h=Math.max(h,c?o.width:0):l?l=Math.max(l,c?o.height:0):c&&(h=o.width,(l=o.height)*s>h?h=l*s:l=h/s));var d=getAdjustedSizes({"aspectRatio":s,"width":h,"height":l});h=d.width,l=d.height,a.minWidth=h,a.minHeight=l,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(n>(c?0:1)){var p=r.width-a.width,u=r.height-a.height;a.minLeft=Math.min(0,p),a.minTop=Math.min(0,u),a.maxLeft=Math.max(0,p),a.maxTop=Math.max(0,u),c&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,2===n&&(a.width>=r.width&&(a.minLeft=Math.min(0,p),a.maxLeft=Math.max(0,p)),a.height>=r.height&&(a.minTop=Math.min(0,u),a.maxTop=Math.max(0,u))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},"renderCanvas":function renderCanvas(t,e){var i=this.canvasData,r=this.imageData;if(e){var a=function getRotatedSizes(t){var e=t.width,i=t.height,r=t.degree;if(90==(r=Math.abs(r)%180))return{"width":i,"height":e};var a=r%90*Math.PI/180,o=Math.sin(a),n=Math.cos(a),s=e*n+i*o,c=e*o+i*n;return r>90?{"width":c,"height":s}:{"width":s,"height":c}}({"width":r.naturalWidth*Math.abs(r.scaleX||1),"height":r.naturalHeight*Math.abs(r.scaleY||1),"degree":r.rotate||0}),o=a.width,n=a.height,s=i.width*(o/i.naturalWidth),c=i.height*(n/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(c-i.height)/2,i.width=s,i.height=c,i.aspectRatio=o/n,i.naturalWidth=o,i.naturalHeight=n,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,setStyle(this.canvas,D({"width":i.width,"height":i.height},getTransforms({"translateX":i.left,"translateY":i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderImage":function renderImage(t){var e=this.canvasData,i=this.imageData,r=i.naturalWidth*(e.width/e.naturalWidth),a=i.naturalHeight*(e.height/e.naturalHeight);D(i,{"width":r,"height":a,"left":(e.width-r)/2,"top":(e.height-a)/2}),setStyle(this.image,D({"width":i.width,"height":i.height},getTransforms(D({"translateX":i.left,"translateY":i.top},i)))),t&&this.output()},"initCropBox":function initCropBox(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,a={"width":e.width,"height":e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=D({},a)},"limitCropBox":function limitCropBox(t,e){var i=this.options,r=this.containerData,a=this.canvasData,o=this.cropBoxData,n=this.limited,s=i.aspectRatio;if(t){var c=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,l=n?Math.min(r.width,a.width,a.width+a.left,r.width-a.left):r.width,d=n?Math.min(r.height,a.height,a.height+a.top,r.height-a.top):r.height;c=Math.min(c,r.width),h=Math.min(h,r.height),s&&(c&&h?h*s>c?h=c/s:c=h*s:c?h=c/s:h&&(c=h*s),d*s>l?d=l/s:l=d*s),o.minWidth=Math.min(c,l),o.minHeight=Math.min(h,d),o.maxWidth=l,o.maxHeight=d}e&&(n?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(r.width,a.left+a.width)-o.width,o.maxTop=Math.min(r.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=r.width-o.width,o.maxTop=r.height-o.height))},"renderCropBox":function renderCropBox(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&setData(this.face,d,i.width>=e.width&&i.height>=e.height?"move":"all"),setStyle(this.cropBox,D({"width":i.width,"height":i.height},getTransforms({"translateX":i.left,"translateY":i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"output":function output(){this.preview(),dispatchEvent(this.element,"crop",this.getData())}},B={"initPreview":function initPreview(){var t=this.element,e=this.crossOrigin,i=this.options.preview,r=e?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=r,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,i){var n=i;"string"==typeof i?n=t.ownerDocument.querySelectorAll(i):i.querySelector&&(n=[i]),this.previews=n,forEach(n,(function(t){var i=document.createElement("img");setData(t,p,{"width":t.offsetWidth,"height":t.offsetHeight,"html":t.innerHTML}),e&&(i.crossOrigin=e),i.src=r,i.alt=a,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},"resetPreview":function resetPreview(){forEach(this.previews,(function(t){var e=getData(t,p);setStyle(t,{"width":e.width,"height":e.height}),t.innerHTML=e.html,function removeData(t,e){if(isObject(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(toParamCase(e)))}(t,p)}))},"preview":function preview(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,r=i.width,a=i.height,o=t.width,n=t.height,s=i.left-e.left-t.left,c=i.top-e.top-t.top;this.cropped&&!this.disabled&&(setStyle(this.viewBoxImage,D({"width":o,"height":n},getTransforms(D({"translateX":-s,"translateY":-c},t)))),forEach(this.previews,(function(e){var i=getData(e,p),h=i.width,l=i.height,d=h,u=l,f=1;r&&(u=a*(f=h/r)),a&&u>l&&(d=r*(f=l/a),u=l),setStyle(e,{"width":d,"height":u}),setStyle(e.getElementsByTagName("img")[0],D({"width":o*f,"height":n*f},getTransforms(D({"translateX":-s*f,"translateY":-c*f},t))))})))}},z={"bind":function bind(){var t=this.element,e=this.options,i=this.cropper;isFunction(e.cropstart)&&addListener(t,"cropstart",e.cropstart),isFunction(e.cropmove)&&addListener(t,"cropmove",e.cropmove),isFunction(e.cropend)&&addListener(t,"cropend",e.cropend),isFunction(e.crop)&&addListener(t,"crop",e.crop),isFunction(e.zoom)&&addListener(t,"zoom",e.zoom),addListener(i,u,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&addListener(i,"wheel",this.onWheel=this.wheel.bind(this),{"passive":!1,"capture":!0}),e.toggleDragModeOnDblclick&&addListener(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),addListener(t.ownerDocument,f,this.onCropMove=this.cropMove.bind(this)),addListener(t.ownerDocument,m,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&addListener(window,"resize",this.onResize=this.resize.bind(this))},"unbind":function unbind(){var t=this.element,e=this.options,i=this.cropper;isFunction(e.cropstart)&&removeListener(t,"cropstart",e.cropstart),isFunction(e.cropmove)&&removeListener(t,"cropmove",e.cropmove),isFunction(e.cropend)&&removeListener(t,"cropend",e.cropend),isFunction(e.crop)&&removeListener(t,"crop",e.crop),isFunction(e.zoom)&&removeListener(t,"zoom",e.zoom),removeListener(i,u,this.onCropStart),e.zoomable&&e.zoomOnWheel&&removeListener(i,"wheel",this.onWheel,{"passive":!1,"capture":!0}),e.toggleDragModeOnDblclick&&removeListener(i,"dblclick",this.onDblclick),removeListener(t.ownerDocument,f,this.onCropMove),removeListener(t.ownerDocument,m,this.onCropEnd),e.responsive&&removeListener(window,"resize",this.onResize)}},R={"resize":function resize(){if(!this.disabled){var t,e,i=this.options,r=this.container,a=this.containerData,o=r.offsetWidth/a.width,n=r.offsetHeight/a.height,s=Math.abs(o-1)>Math.abs(n-1)?o:n;1!==s&&(i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(forEach(t,(function(e,i){t[i]=e*s}))),this.setCropBoxData(forEach(e,(function(t,i){e[i]=t*s})))))}},"dblclick":function dblclick(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function hasClass(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}(this.dragBox,a)?"move":"crop")},"wheel":function wheel(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*i,t)))},"cropStart":function cropStart(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(isNumber(e)&&1!==e||isNumber(i)&&0!==i||t.ctrlKey))){var r,a=this.options,o=this.pointers;t.changedTouches?forEach(t.changedTouches,(function(t){o[t.identifier]=getPointer(t)})):o[t.pointerId||0]=getPointer(t),r=Object.keys(o).length>1&&a.zoomable&&a.zoomOnTouch?"zoom":getData(t.target,d),g.test(r)&&!1!==dispatchEvent(this.element,"cropstart",{"originalEvent":t,"action":r})&&(t.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,addClass(this.dragBox,h)))}},"cropMove":function cropMove(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==dispatchEvent(this.element,"cropmove",{"originalEvent":t,"action":e})&&(t.changedTouches?forEach(t.changedTouches,(function(t){D(i[t.identifier]||{},getPointer(t,!0))})):D(i[t.pointerId||0]||{},getPointer(t,!0)),this.change(t))}},"cropEnd":function cropEnd(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?forEach(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,h,this.cropped&&this.options.modal)),dispatchEvent(this.element,"cropend",{"originalEvent":t,"action":e}))}}},W={"change":function change(t){var e,i=this.options,r=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,c=this.action,h=i.aspectRatio,l=o.left,d=o.top,p=o.width,u=o.height,f=l+p,m=d+u,g=0,v=0,b=a.width,y=a.height,w=!0;!h&&t.shiftKey&&(h=p&&u?p/u:1),this.limited&&(g=o.minLeft,v=o.minTop,b=g+Math.min(a.width,r.width,r.left+r.width),y=v+Math.min(a.height,r.height,r.top+r.height));var x=s[Object.keys(s)[0]],C={"x":x.endX-x.startX,"y":x.endY-x.startY},O=function check(t){switch(t){case"e":f+C.x>b&&(C.x=b-f);break;case"w":l+C.x<g&&(C.x=g-l);break;case"n":d+C.y<v&&(C.y=v-d);break;case"s":m+C.y>y&&(C.y=y-m)}};switch(c){case"all":l+=C.x,d+=C.y;break;case"e":if(C.x>=0&&(f>=b||h&&(d<=v||m>=y))){w=!1;break}O("e"),(p+=C.x)<0&&(c="w",l-=p=-p),h&&(u=p/h,d+=(o.height-u)/2);break;case"n":if(C.y<=0&&(d<=v||h&&(l<=g||f>=b))){w=!1;break}O("n"),u-=C.y,d+=C.y,u<0&&(c="s",d-=u=-u),h&&(p=u*h,l+=(o.width-p)/2);break;case"w":if(C.x<=0&&(l<=g||h&&(d<=v||m>=y))){w=!1;break}O("w"),p-=C.x,l+=C.x,p<0&&(c="e",l-=p=-p),h&&(u=p/h,d+=(o.height-u)/2);break;case"s":if(C.y>=0&&(m>=y||h&&(l<=g||f>=b))){w=!1;break}O("s"),(u+=C.y)<0&&(c="n",d-=u=-u),h&&(p=u*h,l+=(o.width-p)/2);break;case"ne":if(h){if(C.y<=0&&(d<=v||f>=b)){w=!1;break}O("n"),u-=C.y,d+=C.y,p=u*h}else O("n"),O("e"),C.x>=0?f<b?p+=C.x:C.y<=0&&d<=v&&(w=!1):p+=C.x,C.y<=0?d>v&&(u-=C.y,d+=C.y):(u-=C.y,d+=C.y);p<0&&u<0?(c="sw",d-=u=-u,l-=p=-p):p<0?(c="nw",l-=p=-p):u<0&&(c="se",d-=u=-u);break;case"nw":if(h){if(C.y<=0&&(d<=v||l<=g)){w=!1;break}O("n"),u-=C.y,d+=C.y,p=u*h,l+=o.width-p}else O("n"),O("w"),C.x<=0?l>g?(p-=C.x,l+=C.x):C.y<=0&&d<=v&&(w=!1):(p-=C.x,l+=C.x),C.y<=0?d>v&&(u-=C.y,d+=C.y):(u-=C.y,d+=C.y);p<0&&u<0?(c="se",d-=u=-u,l-=p=-p):p<0?(c="ne",l-=p=-p):u<0&&(c="sw",d-=u=-u);break;case"sw":if(h){if(C.x<=0&&(l<=g||m>=y)){w=!1;break}O("w"),p-=C.x,l+=C.x,u=p/h}else O("s"),O("w"),C.x<=0?l>g?(p-=C.x,l+=C.x):C.y>=0&&m>=y&&(w=!1):(p-=C.x,l+=C.x),C.y>=0?m<y&&(u+=C.y):u+=C.y;p<0&&u<0?(c="ne",d-=u=-u,l-=p=-p):p<0?(c="se",l-=p=-p):u<0&&(c="nw",d-=u=-u);break;case"se":if(h){if(C.x>=0&&(f>=b||m>=y)){w=!1;break}O("e"),u=(p+=C.x)/h}else O("s"),O("e"),C.x>=0?f<b?p+=C.x:C.y>=0&&m>=y&&(w=!1):p+=C.x,C.y>=0?m<y&&(u+=C.y):u+=C.y;p<0&&u<0?(c="nw",d-=u=-u,l-=p=-p):p<0?(c="sw",l-=p=-p):u<0&&(c="ne",d-=u=-u);break;case"move":this.move(C.x,C.y),w=!1;break;case"zoom":this.zoom(function getMaxZoomRatio(t){var e=_objectSpread2({},t),i=0;return forEach(t,(function(t,r){delete e[r],forEach(e,(function(e){var r=Math.abs(t.startX-e.startX),a=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),n=Math.abs(t.endY-e.endY),s=Math.sqrt(r*r+a*a),c=(Math.sqrt(o*o+n*n)-s)/s;Math.abs(c)>Math.abs(i)&&(i=c)}))})),i}(s),t),w=!1;break;case"crop":if(!C.x||!C.y){w=!1;break}e=getOffset(this.cropper),l=x.startX-e.left,d=x.startY-e.top,p=o.minWidth,u=o.minHeight,C.x>0?c=C.y>0?"se":"ne":C.x<0&&(l-=p,c=C.y>0?"sw":"nw"),C.y<0&&(d-=u),this.cropped||(removeClass(this.cropBox,n),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(o.width=p,o.height=u,o.left=l,o.top=d,this.action=c,this.renderCropBox()),forEach(s,(function(t){t.startX=t.endX,t.startY=t.endY}))}},H={"crop":function crop(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,h),removeClass(this.cropBox,n),this.setCropBoxData(this.initialCropBoxData)),this},"reset":function reset(){return this.ready&&!this.disabled&&(this.imageData=D({},this.initialImageData),this.canvasData=D({},this.initialCanvasData),this.cropBoxData=D({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"clear":function clear(){return this.cropped&&!this.disabled&&(D(this.cropBoxData,{"left":0,"top":0,"width":0,"height":0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,h),addClass(this.cropBox,n)),this},"replace":function replace(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,forEach(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},"enable":function enable(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,o)),this},"disable":function disable(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,o)),this},"destroy":function destroy(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},"move":function move(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,r=i.left,a=i.top;return this.moveTo(isUndefined(t)?t:r+Number(t),isUndefined(e)?e:a+Number(e))},"moveTo":function moveTo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(isNumber(t)&&(i.left=t,r=!0),isNumber(e)&&(i.top=e,r=!0),r&&this.renderCanvas(!0)),this},"zoom":function zoom(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},"zoomTo":function zoomTo(t,e,i){var r=this.options,a=this.canvasData,o=a.width,n=a.height,s=a.naturalWidth,c=a.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&r.zoomable){var h=s*t,l=c*t;if(!1===dispatchEvent(this.element,"zoom",{"ratio":t,"oldRatio":o/s,"originalEvent":i}))return this;if(i){var d=this.pointers,p=getOffset(this.cropper),u=d&&Object.keys(d).length?function getPointersCenter(t){var e=0,i=0,r=0;return forEach(t,(function(t){var a=t.startX,o=t.startY;e+=a,i+=o,r+=1})),{"pageX":e/=r,"pageY":i/=r}}(d):{"pageX":i.pageX,"pageY":i.pageY};a.left-=(h-o)*((u.pageX-p.left-a.left)/o),a.top-=(l-n)*((u.pageY-p.top-a.top)/n)}else isPlainObject(e)&&isNumber(e.x)&&isNumber(e.y)?(a.left-=(h-o)*((e.x-a.left)/o),a.top-=(l-n)*((e.y-a.top)/n)):(a.left-=(h-o)/2,a.top-=(l-n)/2);a.width=h,a.height=l,this.renderCanvas(!0)}return this},"rotate":function rotate(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},"rotateTo":function rotateTo(t){return isNumber(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},"scaleX":function scaleX(t){var e=this.imageData.scaleY;return this.scale(t,isNumber(e)?e:1)},"scaleY":function scaleY(t){var e=this.imageData.scaleX;return this.scale(isNumber(e)?e:1,t)},"scale":function scale(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(t)&&(i.scaleX=t,r=!0),isNumber(e)&&(i.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},"getData":function getData(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,r=this.imageData,a=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={"x":o.left-a.left,"y":o.top-a.top,"width":o.width,"height":o.height};var n=r.width/r.naturalWidth;if(forEach(t,(function(e,i){t[i]=e/n})),e){var s=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=s-t.y}}else t={"x":0,"y":0,"width":0,"height":0};return i.rotatable&&(t.rotate=r.rotate||0),i.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},"setData":function setData(t){var e=this.options,i=this.imageData,r=this.canvasData,a={};if(this.ready&&!this.disabled&&isPlainObject(t)){var o=!1;e.rotatable&&isNumber(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),e.scalable&&(isNumber(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),isNumber(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var n=i.width/i.naturalWidth;isNumber(t.x)&&(a.left=t.x*n+r.left),isNumber(t.y)&&(a.top=t.y*n+r.top),isNumber(t.width)&&(a.width=t.width*n),isNumber(t.height)&&(a.height=t.height*n),this.setCropBoxData(a)}return this},"getContainerData":function getContainerData(){return this.ready?D({},this.containerData):{}},"getImageData":function getImageData(){return this.sized?D({},this.imageData):{}},"getCanvasData":function getCanvasData(){var t=this.canvasData,e={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},"setCanvasData":function setCanvasData(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&isPlainObject(t)&&(isNumber(t.left)&&(e.left=t.left),isNumber(t.top)&&(e.top=t.top),isNumber(t.width)?(e.width=t.width,e.height=t.width/i):isNumber(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},"getCropBoxData":function getCropBoxData(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={"left":e.left,"top":e.top,"width":e.width,"height":e.height}),t||{}},"setCropBoxData":function setCropBoxData(t){var e,i,r=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&isPlainObject(t)&&(isNumber(t.left)&&(r.left=t.left),isNumber(t.top)&&(r.top=t.top),isNumber(t.width)&&t.width!==r.width&&(e=!0,r.width=t.width),isNumber(t.height)&&t.height!==r.height&&(i=!0,r.height=t.height),a&&(e?r.height=r.width/a:i&&(r.width=r.height*a)),this.renderCropBox()),this},"getCroppedCanvas":function getCroppedCanvas(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=getSourceCanvas(this.image,this.imageData,e,t);if(!this.cropped)return i;var r=this.getData(),a=r.x,o=r.y,n=r.width,s=r.height,c=i.width/Math.floor(e.naturalWidth);1!==c&&(a*=c,o*=c,n*=c,s*=c);var h=n/s,l=getAdjustedSizes({"aspectRatio":h,"width":t.maxWidth||1/0,"height":t.maxHeight||1/0}),d=getAdjustedSizes({"aspectRatio":h,"width":t.minWidth||0,"height":t.minHeight||0},"cover"),p=getAdjustedSizes({"aspectRatio":h,"width":t.width||(1!==c?i.width:n),"height":t.height||(1!==c?i.height:s)}),u=p.width,f=p.height;u=Math.min(l.width,Math.max(d.width,u)),f=Math.min(l.height,Math.max(d.height,f));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=normalizeDecimalNumber(u),m.height=normalizeDecimalNumber(f),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,u,f);var v=t.imageSmoothingEnabled,b=void 0===v||v,y=t.imageSmoothingQuality;g.imageSmoothingEnabled=b,y&&(g.imageSmoothingQuality=y);var w,x,C,O,M,D,_=i.width,E=i.height,j=a,T=o;j<=-n||j>_?(j=0,w=0,C=0,M=0):j<=0?(C=-j,j=0,M=w=Math.min(_,n+j)):j<=_&&(C=0,M=w=Math.min(n,_-j)),w<=0||T<=-s||T>E?(T=0,x=0,O=0,D=0):T<=0?(O=-T,T=0,D=x=Math.min(E,s+T)):T<=E&&(O=0,D=x=Math.min(s,E-T));var N=[j,T,w,x];if(M>0&&D>0){var k=u/n;N.push(C*k,O*k,M*k,D*k)}return g.drawImage.apply(g,[i].concat(_toConsumableArray(N.map((function(t){return Math.floor(normalizeDecimalNumber(t))}))))),m},"setAspectRatio":function setAspectRatio(t){var e=this.options;return this.disabled||isUndefined(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setDragMode":function setDragMode(t){var e=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o="crop"===t,n=e.movable&&"move"===t;t=o||n?t:"none",e.dragMode=t,setData(i,d,t),toggleClass(i,a,o),toggleClass(i,l,n),e.cropBoxMovable||(setData(r,d,t),toggleClass(r,a,o),toggleClass(r,l,n))}return this}},I=e.Cropper,Y=function(){function Cropper(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Cropper),!t||!y.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=D({},w,isPlainObject(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(Cropper,[{"key":"init","value":function init(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{"key":"load","value":function load(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(v.test(t))b.test(t)?this.read(function dataURLToArrayBuffer(t){var e=t.replace(L,""),i=atob(e),r=new ArrayBuffer(i.length),a=new Uint8Array(r);return forEach(a,(function(t,e){a[e]=i.charCodeAt(e)})),r}(t)):this.clone();else{var a=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=o,a.onerror=o,a.ontimeout=o,a.onprogress=function(){"image/jpeg"!==a.getResponseHeader("content-type")&&a.abort()},a.onload=function(){e.read(a.response)},a.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&isCrossOriginURL(t)&&i.crossOrigin&&(t=addTimestamp(t)),a.open("GET",t,!0),a.responseType="arraybuffer",a.withCredentials="use-credentials"===i.crossOrigin,a.send()}else this.clone()}}},{"key":"read","value":function read(t){var e=this.options,i=this.imageData,r=resetAndGetOrientation(t),a=0,o=1,n=1;if(r>1){this.url=function arrayBufferToDataURL(t,e){for(var i=[],r=new Uint8Array(t);r.length>0;)i.push(P.apply(null,toArray(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,"image/jpeg");var s=function parseOrientation(t){var e=0,i=1,r=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{"rotate":e,"scaleX":i,"scaleY":r}}(r);a=s.rotate,o=s.scaleX,n=s.scaleY}e.rotatable&&(i.rotate=a),e.scalable&&(i.scaleX=o,i.scaleY=n),this.clone()}},{"key":"clone","value":function clone(){var t=this.element,e=this.url,i=t.crossOrigin,r=e;this.options.checkCrossOrigin&&isCrossOriginURL(e)&&(i||(i="anonymous"),r=addTimestamp(e)),this.crossOrigin=i,this.crossOriginUrl=r;var a=document.createElement("img");i&&(a.crossOrigin=i),a.src=r||e,a.alt=t.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),addClass(a,s),t.parentNode.insertBefore(a,t.nextSibling)}},{"key":"start","value":function start(){var t=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=e.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(e.navigator.userAgent),a=function done(e,i){D(t.imageData,{"naturalWidth":e,"naturalHeight":i,"aspectRatio":e/i}),t.initialImageData=D({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!i.naturalWidth||r){var o=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){a(o.width,o.height),r||n.removeChild(o)},o.src=i.src,r||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}else a(i.naturalWidth,i.naturalHeight)}},{"key":"stop","value":function stop(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{"key":"build","value":function build(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,r=t.parentNode,a=document.createElement("div");a.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=a.querySelector(".".concat("cropper","-container")),h=o.querySelector(".".concat("cropper","-canvas")),p=o.querySelector(".".concat("cropper","-drag-box")),u=o.querySelector(".".concat("cropper","-crop-box")),f=u.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=o,this.canvas=h,this.dragBox=p,this.cropBox=u,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=f,h.appendChild(i),addClass(t,n),r.insertBefore(o,t.nextSibling),this.isImg||removeClass(i,s),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,addClass(u,n),e.guides||addClass(u.getElementsByClassName("".concat("cropper","-dashed")),n),e.center||addClass(u.getElementsByClassName("".concat("cropper","-center")),n),e.background&&addClass(o,"".concat("cropper","-bg")),e.highlight||addClass(f,c),e.cropBoxMovable&&(addClass(f,l),setData(f,d,"all")),e.cropBoxResizable||(addClass(u.getElementsByClassName("".concat("cropper","-line")),n),addClass(u.getElementsByClassName("".concat("cropper","-point")),n)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),isFunction(e.ready)&&addListener(t,"ready",e.ready,{"once":!0}),dispatchEvent(t,"ready")}}},{"key":"unbuild","value":function unbuild(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),removeClass(this.element,n))}},{"key":"uncreate","value":function uncreate(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{"key":"noConflict","value":function noConflict(){return window.Cropper=I,Cropper}},{"key":"setDefaults","value":function setDefaults(t){D(w,isPlainObject(t)&&t)}}]),Cropper}();return D(Y.prototype,A,B,z,R,W,H),Y},"object"===n(e)&&void 0!==t?t.exports=o():void 0===(a="function"==typeof(r=o)?r.call(e,i,e,t):r)||(t.exports=a)},"357":function(t,e,i){}}]);