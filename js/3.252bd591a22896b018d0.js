/*! For license information please see 3.252bd591a22896b018d0.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"145":function(t,a,c){var u,l=c(27);!function(){"use strict";var d={}.hasOwnProperty;function classNames(){for(var t=[],a=0;a<arguments.length;a++){var c=arguments[a];if(c){var u=l(c);if("string"===u||"number"===u)t.push(this&&this[c]||c);else if(Array.isArray(c))t.push(classNames.apply(this,c));else if("object"===u)if(c.toString===Object.prototype.toString)for(var p in c)d.call(c,p)&&c[p]&&t.push(this&&this[p]||p);else t.push(c.toString())}}return t.join(" ")}t.exports?(classNames.default=classNames,t.exports=classNames):"object"===l(c(148))&&c(148)?void 0===(u=function(){return classNames}.apply(a,[]))||(t.exports=u):window.classNames=classNames}()},"148":function(t,a){(function(a){t.exports=a}).call(this,{})},"193":function(t,a,c){var u,l,d,p=c(60),b=c(250),g=c(251),v=c(255),x=c(0),y=c(256),m=c(257),w=c(236),_=c(258),k=c(260),R=c(27);!function(p,b){"object"==R(a)&&void 0!==t?t.exports=b(c(26),c(143),c(1)):(l=[c(26),c(143),c(1)],void 0===(d="function"==typeof(u=b)?u.apply(a,l):u)||(t.exports=d))}(0,(function(t,a,c){"use strict";function i(t){return t&&"object"==R(t)&&"default"in t?t:{"default":t}}var u=i(t),l=i(c);function h(t,a,c,u){return new(c=c||Promise)((function(l,d){function r(t){try{s(u.next(t))}catch(t){d(t)}}function o(t){try{s(u.throw(t))}catch(t){d(t)}}function s(t){var a;t.done?l(t.value):((a=t.value)instanceof c?a:new c((function(t){t(a)}))).then(r,o)}s((u=u.apply(t,a||[])).next())}))}return function(c){return function(t){_(_class,t);var d=k(_class);function _class(){var t;return y(this,_class),(t=d.apply(this,arguments)).headerText=u.default.createRef(),t.state={"nodeArr":[],"width":0,"height":0},t.create=function(){return h(w(t),void 0,void 0,x.mark((function _callee(){return x.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return this.nodeObj=this.searchDomNode(this.headerText.current),t.next=3,this.getAllDom(this.nodeObj.clearNode);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),_callee,this)})))},t.getAllDom=function(a){return h(w(t),void 0,void 0,x.mark((function _callee2(){var t,c,u,l,d,p,b;return x.wrap((function _callee2$(x){for(;;)switch(x.prev=x.next){case 0:t=[],c=v(a.entries()),x.prev=2,c.s();case 4:if((u=c.n()).done){x.next=17;break}return l=g(u.value,1),d=l[0],x.next=8,this.initQuery(d);case 8:if(p=x.sent,x.t0=null===p,!x.t0){x.next=14;break}return x.next=13,this.initQuery(d);case 13:p=x.sent;case 14:t.push(p);case 15:x.next=4;break;case 17:x.next=22;break;case 19:x.prev=19,x.t1=x.catch(2),c.e(x.t1);case 22:return x.prev=22,c.f(),x.finish(22);case 25:if(!(0<t.length)){x.next=30;break}return x.next=28,this.initCanvas(t);case 28:return b=x.sent,x.abrupt("return",new Promise((function(t,a){t(b)})));case 30:return x.next=32,this.getAllDom(a);case 32:case"end":return x.stop()}}),_callee2,this,[[2,19,22,25]])})))},t.drawBlock=function(a,c){var u=c.bgX,l=c.bgY;return h(w(t),void 0,void 0,x.mark((function _callee3(){var t,c;return x.wrap((function _callee3$(d){for(;;)switch(d.prev=d.next){case 0:if(this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle=a.backgroundColor,this.ctx.fillRect(2*a.left-u,2*a.top-l,2*a.width,2*a.height),!a.backgroundImage||"none"===a.backgroundImage){d.next=8;break}return t=(t=a.backgroundImage).replace("url","").replace('"',"").replace('"',"").replace("(","").replace("'","").replace("'","").replace(")",""),c=Object.assign(Object.assign({},a),{"src":t}),d.next=6,this.loadImage(c);case 6:c=d.sent,this.drawImage(c,{"bgX":u,"bgY":l});case 8:this.drawBorderRadius(a,{"width":2*a.width,"height":2*a.height,"x":2*a.left-u,"y":2*a.top-l,"type":"image"}),this.ctx.restore();case 9:case"end":return d.stop()}}),_callee3,this)})))},t.drawLine=function(a,c,u,l){var d=c.lineHeight,p=c.lineType,b=c.color,g=u.bgX,v=u.bgY,x=l.borderLeft,y=void 0!==x&&x,m=l.borderRight,w=void 0!==m&&m,_=l.borderTop,k=void 0!==_&&_,R=l.borderBottom,T=void 0!==R&&R;return function(a){t.ctx.save();var c=2*a.left,u=2*a.right,l=2*a.top;a=2*a.bottom;d=2*Number(d),t.ctx.strokeStyle=b,t.ctx.lineWidth=2*Number(d),t.ctx.beginPath(),T&&(t.ctx.moveTo(c-g,a-v-d),t.ctx.lineTo(u-g,a-v-d)),k&&(t.ctx.moveTo(c-g,l-v-d),t.ctx.lineTo(u-g,l-v-d)),y&&(t.ctx.moveTo(c-g,l-v-d),t.ctx.lineTo(c-g,a-v-d)),w&&(t.ctx.moveTo(u-g,l-v-d),t.ctx.lineTo(u-g,a-v-d)),"dashed"===p&&t.ctx.setLineDash([7]),t.ctx.stroke(),t.ctx.restore()}(a)},t.drawImage=function(a,c){return function(c,u){t.ctx.save();var l=2*a.left-c,d=2*a.top-u;c=2*a.width,u=2*a.height;t.drawBorderRadius(a,{"width":c,"height":u,"x":l,"y":d,"type":"image"}),t.ctx.drawImage(a.img,l,d,c,u),t.ctx.restore()}(c.bgX,c.bgY)},t.resolveRadius=function(t,a){return t.includes("%")?t=parseFloat(t)/100*a:t.includes("px")&&(t=2*parseFloat(t)),t},t.drawBorderRadius=function(a,c){var u=c.width,l=c.height,d=c.x,p=c.y,b=c.type,g={"borderTopLeftRadius":0,"borderTopRightRadius":0,"borderBottomRightRadius":0,"borderBottomLeftRadius":0};for(var v in g)g.hasOwnProperty(v)&&(g[v]=t.resolveRadius(a[v],u));t.drawRadiusRect({"x":d,"y":p,"w":u,"h":l,"type":b},g)},t.drawRadiusRect=function(a,c){var u=a.x,l=a.y,d=a.w,p=a.h,b=a.type;return function(a){var c=a,g=c.borderTopLeftRadius,v=void 0===g?0:g,x=c.borderTopRightRadius,y=void 0===x?0:x,m=c.borderBottomRightRadius,w=void 0===m?0:m,_=c.borderBottomLeftRadius,k=(a=void 0===_?0:_,t.ctx);k.beginPath(),k.moveTo(u+v,l),k.arcTo(u+d,l,u+d,l+p,y),k.arcTo(u+d,l+p,u,l+p,w),k.arcTo(u,l+p,u,l,a),k.arcTo(u,l,u+d,l,v),"image"===b&&k.clip(),"block"===b&&k.fill(),"line"===b&&k.stroke(),k.closePath()}(c)},t.drawText=function(a,c){var u=c.bgX,l=c.bgY,d=c.bgRight,p=c.bgWidth;t.ctx.save();var b=0,g="",v=[],x=a.type,y=a.fontSize,m=void 0===y?"16px":y,w=a.lineHeight,_=void 0===w?"16px":w,k=a.fontWeight,R=a.textOverflow,T=a.webkitLineClamp,N=(_=2*parseInt(_.substring(0,(null==_?void 0:_.length)-2)))-(m=2*parseInt(m.substring(0,(null==m?void 0:m.length)-2))),P=t.ctx.measureText("...").width;t.ctx.font="".concat(k," ").concat(m,"px PingFangSC-Semibold");for(var O=0;O<x.length;O++){var S=t.ctx.measureText(x[O]).width;if(g+=x[O],b+=S,("ellipsis"===R&&"none"===T?b+P:b)>=p-(2*a.left-u)-(d-2*a.right)){if("ellipsis"===R&&"none"===T){g+="...";break}if("none"!==T&&1<Number(T)&&v.length===Number(T)-1)break;v.push(g),g="",b=0}}if(v.push(g),"none"!==T&&1<Number(T)&&v.length===Number(T)){for(var j=t.ctx.measureText(v[v.length-1]).width;j+P>p-(2*a.left-u)-(d-2*a.right);){var I=v[v.length-1];I=I.substring(0,I.length-1),v.pop(),v.push(I),j=t.ctx.measureText(v[v.length-1]).width}v[v.length-1]=v[v.length-1]+"..."}v.forEach((function(c,d){t.ctx.beginPath(),t.ctx.fillStyle=a.color,t.ctx.fillText(c,2*a.left-u,2*a.top-l+m*(d+1)+N*d)})),t.drawBorder(a,{"bgX":u,"bgY":l}),t.ctx.restore()},t.resolveBorder=function(a){var c=(a=(a=a.split(/(\S+)\s+(\S+)\s+([\s\S]+)/)).filter((function(t){return""!==t})))[0].substring(0,a[0].length-2),u=a[1],l=a[2];return function(a,d,p){var g=p.bgX,v=p.bgY;t.drawLine(a,{"lineHeight":c,"lineType":u,"color":l},{"bgX":g,"bgY":v},b({},d,!0))}},t}return m(_class,[{"key":"initQuery","value":function initQuery(t){return new Promise((function(a,c){try{l.default.createSelectorQuery().select("#".concat(t)).fields({"id":!0,"dataset":!0,"size":!0,"rect":!0,"mark":!0,"node":!0,"properties":["scrollX","scrollY","src"],"computedStyle":["margin","backgroundColor","fontSize","color","padding","lineHeight","border","backgroundImage","fontWeight","textOverflow","lineClamp","webkitLineClamp","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","border","borderBottom","borderTop","borderRight","borderLeft"],"context":!0},(function(t){a(t)})).exec()}catch(t){c(t)}}))}},{"key":"initCanvas","value":function initCanvas(t){return h(this,void 0,void 0,x.mark((function _callee5(){var a=this;return x.wrap((function _callee5$(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise((function(c,u){return h(a,void 0,void 0,x.mark((function _callee4(){var a,l,d,p,b,y,m;return x.wrap((function _callee4$(x){for(;;)switch(x.prev=x.next){case 0:x.prev=0,a={"bgWidth":0,"bgX":0,"bgY":0,"bgHeight":0,"bgRight":0},l=v(t.entries()),x.prev=3,l.s();case 5:if((d=l.n()).done){x.next=36;break}if(p=g(d.value,2),b=p[0],(y=p[1]).type=this.nodeObj.clearNode.get(y.id),0!==b){x.next=21;break}return x.next=11,this.queryCanvasNode();case 11:return this.canvas=x.sent,this.ctx=this.canvas.getContext("2d"),this.canvas.width=2*y.width,this.canvas.height=2*y.height,a={"bgWidth":2*y.width,"bgHeight":2*y.height,"bgX":2*y.left,"bgY":2*y.top,"bgRight":2*y.right},x.next=18,this.drawBlock(y,a);case 18:this.setState({"width":y.width,"height":y.height}),x.next=34;break;case 21:if("view"!==y.type||0===b){x.next=26;break}return x.next=24,this.drawBlock(y,a);case 24:x.next=34;break;case 26:if("image"!==y.type){x.next=33;break}return x.next=29,this.loadImage(y);case 29:m=x.sent,this.drawImage(m,a),x.next=34;break;case 33:this.drawText(y,a);case 34:x.next=5;break;case 36:x.next=41;break;case 38:x.prev=38,x.t0=x.catch(3),l.e(x.t0);case 41:return x.prev=41,l.f(),x.finish(41);case 44:c(this.canvas),x.next=50;break;case 47:x.prev=47,x.t1=x.catch(0),u(x.t1);case 50:case"end":return x.stop()}}),_callee4,this,[[0,47],[3,38,41,44]])})))})));case 1:case"end":return c.stop()}}),_callee5)})))}},{"key":"drawBorder","value":function drawBorder(t,a){var c=this,u=a.bgX,l=a.bgY;["borderBottom","borderRight","borderTop","borderLeft"].forEach((function(a){t[a].includes("none")||c.resolveBorder(t[a])(t,a,{"bgX":u,"bgY":l})}))}},{"key":"queryCanvasNode","value":function queryCanvasNode(){return new Promise((function(t,a){l.default.createSelectorQuery().select("#canvas").fields({"node":!0,"size":!0}).exec((function(a){t(a[0].node)}))}))}},{"key":"searchDomNode","value":function searchDomNode(t){var a,c=this,u={"clearNode":new Map};return"text"===t.nodeName?u.clearNode.set(t.uid,t.childNodes[0]._value):"image"!==t.nodeName&&"view"!==t.nodeName||u.clearNode.set(t.uid,t.nodeName),0<(null===(a=t.childNodes)||void 0===a?void 0:a.length)&&t.childNodes.forEach((function(t,a){t=c.searchDomNode(t),u={"clearNode":new Map([].concat(p(u.clearNode),p(t.clearNode)))}})),u}},{"key":"loadImage","value":function loadImage(t){var a=this;return new Promise((function(c,u){var l=a.canvas.createImage();t.img=l,l.onload=function(){return c(t)},l.onerror=function(){return u},l.src=t.src}))}},{"key":"render","value":function render(){var t=this.state,l=t.width,d=t.height;return u.default.createElement(a.Block,null,u.default.createElement(c,Object.assign({"create":this.create,"canvas":this.canvas,"refs":this.headerText},this.props)),u.default.createElement(a.Canvas,{"id":"canvas","type":"2d","style":{"position":"absolute","bottom":0,"left":"-9999px","width":l+"px","height":d+"px"}}))}}]),_class}(t.Component)}}))},"236":function(t,a){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},"250":function(t,a){t.exports=function _defineProperty(t,a,c){return a in t?Object.defineProperty(t,a,{"value":c,"enumerable":!0,"configurable":!0,"writable":!0}):t[a]=c,t}},"251":function(t,a,c){var u=c(252),l=c(253),d=c(59),p=c(254);t.exports=function _slicedToArray(t,a){return u(t)||l(t,a)||d(t,a)||p()}},"252":function(t,a){t.exports=function _arrayWithHoles(t){if(Array.isArray(t))return t}},"253":function(t,a){t.exports=function _iterableToArrayLimit(t,a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var c=[],u=!0,l=!1,d=void 0;try{for(var p,b=t[Symbol.iterator]();!(u=(p=b.next()).done)&&(c.push(p.value),!a||c.length!==a);u=!0);}catch(t){l=!0,d=t}finally{try{u||null==b.return||b.return()}finally{if(l)throw d}}return c}}},"254":function(t,a){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"255":function(t,a,c){var u=c(59);t.exports=function _createForOfIteratorHelper(t,a){var c;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(c=u(t))||a&&t&&"number"==typeof t.length){c&&(t=c);var l=0,d=function F(){};return{"s":d,"n":function n(){return l>=t.length?{"done":!0}:{"done":!1,"value":t[l++]}},"e":function e(t){throw t},"f":d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p,b=!0,g=!1;return{"s":function s(){c=t[Symbol.iterator]()},"n":function n(){var t=c.next();return b=t.done,t},"e":function e(t){g=!0,p=t},"f":function f(){try{b||null==c.return||c.return()}finally{if(g)throw p}}}}},"256":function(t,a){t.exports=function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}},"257":function(t,a){function _defineProperties(t,a){for(var c=0;c<a.length;c++){var u=a[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(t,u.key,u)}}t.exports=function _createClass(t,a,c){return a&&_defineProperties(t.prototype,a),c&&_defineProperties(t,c),t}},"258":function(t,a,c){var u=c(259);t.exports=function _inherits(t,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{"constructor":{"value":t,"writable":!0,"configurable":!0}}),a&&u(t,a)}},"259":function(t,a){function _setPrototypeOf(a,c){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,a){return t.__proto__=a,t},_setPrototypeOf(a,c)}t.exports=_setPrototypeOf},"260":function(t,a,c){var u=c(261),l=c(262),d=c(263);t.exports=function _createSuper(t){var a=l();return function _createSuperInternal(){var c,l=u(t);if(a){var p=u(this).constructor;c=Reflect.construct(l,arguments,p)}else c=l.apply(this,arguments);return d(this,c)}}},"261":function(t,a){function _getPrototypeOf(a){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(a)}t.exports=_getPrototypeOf},"262":function(t,a){t.exports=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},"263":function(t,a,c){var u=c(28),l=c(236);t.exports=function _possibleConstructorReturn(t,a){return!a||"object"!==u(a)&&"function"!=typeof a?l(t):a}}}]);