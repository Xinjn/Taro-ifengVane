(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"144":function(e,t,n){"use strict";n.d(t,"b",(function(){return x}));var a=n(5),c=n(10),o=n(11),i=n(20),r=n(15),s=n(16),l=n(6),d=n(26),m=n.n(d),u=n(142),_=function(e){Object(r.a)(ErrorBoundary,e);var t=Object(s.a)(ErrorBoundary);function ErrorBoundary(){var e;Object(c.a)(this,ErrorBoundary);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),Object(l.a)(Object(i.a)(e),"state",{"hasError":!1}),e}return Object(o.a)(ErrorBoundary,[{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentDidCatch","value":function componentDidCatch(e,t){this.setState({"hasError":!0}),e.message="".concat(e.message," - componentStack: ").concat(t.componentStack),console.log("我是错误",e)}},{"key":"render","value":function render(){return this.state.hasError?"":this.props.children}}]),ErrorBoundary}(m.a.Component),x=function errorBoundary(e){return function(t){Object(r.a)(_class,t);var n=Object(s.a)(_class);function _class(){return Object(c.a)(this,_class),n.apply(this,arguments)}return Object(o.a)(_class,[{"key":"render","value":function render(){return Object(u.jsx)(_,{"children":Object(u.jsx)(e,Object(a.a)({},this.props))})}}]),_class}(m.a.PureComponent)};t.a=x},"149":function(e,t,n){"use strict";var a=n(0),c=n.n(a),o=n(4),i=n(1),r=n(26),s=n(143),l=n(150),d=n.n(l),m=n(144),u=n(142);t.a=Object(m.b)((function Header(e){var t=e.content,n=void 0===t?{}:t,a=n.type,l=void 0===a?"":a,m=n&&n.title||"",_=n&&n.imageUrl||"",x=n&&n.backgroundColor||"",p=n&&n.prevIcon||"",j=n&&n.moreIcon||"",b=n&&n.moreText||"",h=n&&n.fizeColor||"",f=n&&n.moreTextColor||h||"",O=i.default.getCurrentInstance();Object(r.useEffect)((function(){Object(i.pageScrollTo)({"scrollTop":0})}),[]);var g=function(){var t=Object(o.a)(c.a.mark((function _callee(){return c.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!e.content.goBackHandle){t.next=3;break}return e.content.goBackHandle(),t.abrupt("return");case 3:if(!O.router.path.includes("back=home")){t.next=6;break}return i.default.reLaunch({"url":"/pages/index/index"}),t.abrupt("return",!1);case 6:if(!window||!window.grounds||"/pages/index/index"!==O.router.path&&"/pages/my/index"!==O.router.path&&"/pages/found/index"!==O.router.path){t.next=10;break}window.ground.close(),t.next=22;break;case 10:if("share"!==l){t.next=14;break}i.default.reLaunch({"url":"/pages/index/index"}),t.next=22;break;case 14:return t.prev=14,t.next=17,i.default.navigateBack({"delta":1});case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(14),i.default.reLaunch({"url":"/pages/index/index"});case 22:case"end":return t.stop()}}),_callee,null,[[14,19]])})));return function h5GoBackHandle(){return t.apply(this,arguments)}}(),w=_?{"backgroundImage":"url(".concat(_,")")}:{"backgroundColor":x};return Object(u.jsx)(s.View,{"className":d.a.headerBox,"style":w,"children":Object(u.jsxs)(s.View,{"className":d.a.header,"style":w,"children":[Object(u.jsx)(s.View,{"className":d.a.headerPrev,"children":p&&Object(u.jsx)(s.Image,{"onClick":g,"src":p,"mode":"aspectFit","className":d.a.headerPrevPic})}),Object(u.jsx)(s.View,{"className":d.a.headerTitle,"children":Object(u.jsx)(s.Text,{"className":d.a.headerTitleText,"style":{"color":h},"children":m})}),Object(u.jsxs)(s.View,{"className":d.a.headerMore,"children":[j&&Object(u.jsx)(s.Image,{"src":j,"mode":"aspectFit","onClick":function moreIconHandle(){if(window&&window.grounds)try{window.grounds.openShare(location.href,"凤娱指数-影剧综榜单","凤凰新闻","https://x0.ifengimg.com/ucms/2021_50/42603B06AF7D0F555A12FC2E60ED0C61CFDB9709_size27_w432_h432.png","brand_mxdb01")}catch(e){try{window.grounds.openShare(location.href,"凤娱指数-影剧综榜单","凤凰新闻","https://x0.ifengimg.com/ucms/2021_50/42603B06AF7D0F555A12FC2E60ED0C61CFDB9709_size27_w432_h432.png","brand_mxdb01","")}catch(e){}}},"className":d.a.headerMorePic}),e.children,b&&Object(u.jsx)(s.Text,{"className":d.a.headerMoreText,"onClick":function moreTextHandle(){e.content.moreTextHandle()},"style":{"color":f},"children":b})]})]})})}))},"150":function(e,t,n){e.exports={"headerBox":"index-module__headerBox___1_u1D","headerBoxWx":"index-module__headerBoxWx___3wJqw","header":"index-module__header___6NxCV","headerWx":"index-module__headerWx___3y-VP","headerPrev":"index-module__headerPrev___12MB1","headerPrevPic":"index-module__headerPrevPic___212ke","headerTitle":"index-module__headerTitle___25jwe","headerTitleText":"index-module__headerTitleText___3LAcX","headerMore":"index-module__headerMore___2nNrE","headerMorePic":"index-module__headerMorePic___ydU02","headerMoreText":"index-module__headerMoreText___fvvfk"}},"167":function(e,t,n){"use strict";n.d(t,"a",(function(){return Rate}));var a=n(12),c=n(26),o=n(143),i=n(145),r=n.n(i),s=n(174),l=n.n(s),d=n(1),m=n(142),u=r.a.bind(l.a);function Rate(e){var t=e.score,n=void 0===t?0:t,i=e.starSize,r=void 0===i?38:i,s=e.readonly,_=void 0===s||s,x=e.margin,p=void 0===x?5:x,j=e.onChange,b=Object(c.useState)(n),h=Object(a.a)(b,2),f=h[0],O=h[1];function handleClick(e){return function(e){!function changeScore(e){if(_)return;Object(d.createSelectorQuery)().select("#starwrap").boundingClientRect((function(t){var a=0,c=0,o=0,i=e.touches[0].pageX,s=t.left,l=r,d=p,m=s+5*l+4*d;i>=s&&i<=m?(0<=(c=i-s-(o=Math.floor((i-s)/(l+d)))*(l+d))&&c<.5*l?a=o+.5:(.5*l<=c&&c<l||l<=c)&&(a=o+1),a!=n&&O(a)):i<s?O(0):i>m&&O(5),j&&j(a)})).exec()}(e)}}return Object(c.useEffect)((function(){return O(n),function(){}}),[n]),Object(m.jsx)(o.View,{"className":l.a.scoreWrap,"id":"starwrap","children":[1,2,3,4,5].map((function(e,t){var n="".concat("https://x0.ifengimg.com/fe/ifengVane",f>t?f>=t+1?"/star_fill.png":"/star_half.png":"/star.png");return Object(m.jsx)(o.View,{"className":u({"starLen":!0,"star":!0}),"hoverClass":u("starActive"),"hoverStayTime":100,"style":{"width":"".concat(r,"px"),"height":"".concat(r,"px"),"marginRight":"".concat(p,"px"),"backgroundImage":"url(".concat(n,")"),"backgroundSize":"cover"},"onClick":handleClick()},e)}))})}},"168":function(e,t,n){"use strict";n.d(t,"a",(function(){return Avatar}));n(26);var a=n(143),c=n(176),o=n.n(c),i=n(177),r=n.n(i),s=n(142);function Avatar(e){var t=e.isAnonymous,n=void 0!==t&&t,c=e.avatarUrl,i=e.shape,l=void 0===i?"circle":i,d=e.size,m=void 0===d?38:d,u=e.isFriend,_=void 0!==u&&u,x=e.isExpert,p=void 0!==x&&x;return Object(s.jsxs)(s.Fragment,{"children":[Object(s.jsx)(a.View,{"className":"square"===l?"".concat(r.a.avatar):"".concat(r.a.avatar," ").concat(r.a.circle),"style":{"width":"".concat(m,"px"),"height":"".concat(m,"px"),"backgroundSize":"cover","backgroundRepeat":"no-repeat","backgroundPosition":"center","backgroundImage":"url(".concat(n?o.a:"nothing"===c?"https://x0.ifengimg.com/fe/custom/default_avatar.png":c||"https://x0.ifengimg.com/fe/custom/default_avatar.png",")")}}),p&&Object(s.jsx)(a.View,{"className":"".concat(r.a.myFriend," ").concat(r.a.expert),"children":"专家"}),_&&Object(s.jsx)(a.View,{"className":r.a.myFriend,"children":"好友"})]})}Avatar.defaultProps={}},"170":function(e,t,n){"use strict";n.d(t,"a",(function(){return ActionSheet}));var a=n(26),c=n(179),o=n.n(c),i=n(143),r=(n(180),n(142));function ActionSheet(e){var t=e.title,n=void 0===t?"":t,c=e.cancelText,s=void 0===c?"取消":c,l=e.isOpened,d=void 0!==l&&l,m=e.onClose,u=e.onCancel,_=e.bottom,x=void 0===_?0:_,p=e.zIndex,j=void 0===p?10100:p,b=e.showDownArrow,h=void 0!==b&&b;function close(){m&&m()}Object(a.useEffect)((function(){var e=document.body;e.style.overflow=d?"hidden":""}),[d]);var f=o()("action-sheet",{"action-sheet--active":d});return Object(r.jsxs)(i.View,{"className":f,"style":{"zIndex":j},"children":[Object(r.jsx)(i.View,{"className":"action-sheet__overlay","onClick":close}),Object(r.jsxs)(i.View,{"className":"action-sheet__container","style":{"bottom":x},"children":[h&&Object(r.jsx)(i.View,{"className":"action-sheet_arrowdown","onClick":close}),n&&Object(r.jsx)(i.View,{"className":"action-sheet__header","children":n}),Object(r.jsx)(i.View,{"children":e.children}),s&&Object(r.jsx)(i.View,{"onClick":function cancel(){u&&u()},"className":"action-sheet__footer","children":s})]})]})}},"173":function(e,t,n){"use strict";n.d(t,"a",(function(){return Loading}));n(26);var a=n(143),c=(n(188),n(142));function Loading(e){var t=e.color,n=e.size,o=e.text,i=void 0===o?"加载中...":o,r=e.layout,s=void 0===r?"inline":r,l={"width":n,"height":n,"border":t?"1px solid ".concat(t):"","borderColor":t?"".concat(t," transparent transparent transparent"):""};return Object(c.jsxs)(a.View,{"className":"ifeng-loading","style":{"flexDirection":"inline"===s?"row":"column"},"children":[Object(c.jsx)(a.View,{"className":"ifeng-loading__ring","style":l}),Object(c.jsx)(a.View,{"className":"ifeng-loading__text","children":i})]})}},"174":function(e,t,n){e.exports={"scoreWrap":"index-module__scoreWrap___jLMMe","starLen":"index-module__starLen___1Quwl","star":"index-module__star___2ukPQ","starActive":"index-module__starActive___2YjLw"}},"176":function(e,t){e.exports="data:image/png;base64,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"},"177":function(e,t,n){e.exports={"avatar":"index-module__avatar___2NVaa","circle":"index-module__circle___2BW9u","myFriend":"index-module__myFriend___2i6cl","expert":"index-module__expert___1WFEP"}},"178":function(e,t,n){e.exports={"commentMask":"index-module__commentMask___3OT8Z","commentCard":"index-module__commentCard___uRNl0","content":"index-module__content___2Xknl","content_top":"index-module__content_top___1rZN_","comment_avatar":"index-module__comment_avatar___20DOs","nickname":"index-module__nickname___i-a-D","nicktip":"index-module__nicktip___31zwh","workname_wrap":"index-module__workname_wrap___VyCTR","workname":"index-module__workname___1RKrW","scoreWrap":"index-module__scoreWrap___JND-G","score":"index-module__score___mhVkF","descwrap":"index-module__descwrap___1UZ88","desc":"index-module__desc___33aN7","bottom":"index-module__bottom___2p_3a","work_poster":"index-module__work_poster___2VOXr","bottomRight":"index-module__bottomRight___lWG-y","workname_text":"index-module__workname_text___2CSG_","bottom_worktype":"index-module__bottom_worktype___3Kz4O","worksType":"index-module__worksType___2EK8s","platform":"index-module__platform___1WxOD","platform_text":"index-module__platform_text___2Baaj","platform_img":"index-module__platform_img___3TwH_","workrank":"index-module__workrank____h7z4","bottom_right_bottom":"index-module__bottom_right_bottom___kL27z","rateCard":"index-module__rateCard___CV28t","stars":"index-module__stars___2t8Tk","rateTitle":"index-module__rateTitle___nimfv","title_text":"index-module__title_text___3CSa_","rateWrap":"index-module__rateWrap___2BAU-","star_wrap":"index-module__star_wrap___3b5qv","peopleRate":"index-module__peopleRate___398md","rateText":"index-module__rateText___3a6Dj","logo":"index-module__logo___3TFg6","ifengLogo":"index-module__ifengLogo___3rvVo","qrcode":"index-module__qrcode___jtMFH","wxShareScreenShots":"index-module__wxShareScreenShots___1mZ6s","posterBg":"index-module__posterBg___H94BA"}},"180":function(e,t,n){},"181":function(e,t,n){"use strict";n.d(t,"a",(function(){return Like}));var a=n(12),c=n(26),o=n(143),i=n(145),r=n.n(i),s=n(152),l=n(182),d=n.n(l),m=n(183),u=n.n(m),_=n(184),x=n.n(_),p=n(45),j=n(142),b=r.a.bind(x.a);function Like(e){var t=e.total,n=void 0===t?0:t,i=e.bisId,r=e.isLiked,l=void 0!==r&&r,m=e.size,_=void 0===m?16:m,h=e.subjectId,f=Object(c.useState)(n),O=Object(a.a)(f,2),g=O[0],w=O[1],A=Object(c.useState)(l),v=Object(a.a)(A,2),C=v[0],y=v[1];function sendLike(e,t){Object(s.b)({"commentId":e,"subjectId":h,"opType":t})}return Object(c.useEffect)((function(){w(n),y(l)}),[n,l]),Object(j.jsxs)(o.View,{"className":x.a.like,"onClick":Object(p.a)(function handleClick(e,t,n){n?(w(t-1),sendLike(e,"DEL")):(w(t+1),sendLike(e,"INSERT")),y(!n)}.bind(this,i,g,C),300),"children":[Object(j.jsx)(o.Image,{"style":{"width":"".concat(_,"px"),"height":"".concat(_,"px")},"src":C?u.a:d.a}),Object(j.jsx)(o.Text,{"className":b("text",{"liked_text":C}),"children":function formatCount(e){return 0===e?"0":e>1e4?(e/1e4).toFixed(1)+"万":""+e}(g)})]})}},"182":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA+5JREFUWEftll2IG1UUx//njpmQuTfRiKtFtmps+1AQ9sEPVEQoWLV9URQsKBTqB4usT9YvVlDQWuhCfbFaahWpoNKVovhgFaWCiBYV0SL1Qev6hUTzME3mzmY3mcyRozfFxnxstpH64H1KMmfO+eV/z/3fQ7Ozsx5O46L/Af7TCkRRdAkR3Q3gOgArAbQAfAfgoOd5u3O5XFnap16vr2i1WvcC2EBEq5k5C+AnIjqklNqTy+WO9Gqzrj1QLpfPMMbMAJgC0KtJ5wE87BLvABD0KMLMvLtarT4wPj7e6IzpBuDFcfwGM2+UYCL6FMC+JEmOZjIZj5kvZ+Z7AFzckex7ItpLRJ+lacpKqbXMvIWZL3Vxb5dKpZsqlQr//b1/AMRxvI2ZHxG5iWir1npXJ3UYhlnf92eYWRQCMz+XJMmDxWJxsTPWWrsVwHan5OPGmKd6AlhrLwTwDQBf5DXG7OxnEdbaKWZW+Xz+mX5xcRxPM/MTzJz4vr82m83OteNPUiCOYwmaFohmszlRLBbTUXjU2NgYzc3NHQWwhoh2aK0f7QpgrT0M4DIA064JR1H/zxzWWtnWbQC+MMZc0QvgdwBnA7jRGPP+yKoDiON4IzO/BSAyxhR7AcjR8pVS1wRBIGqMbM3Pz1+ZpulHABrGmBNH9qQesNZKc6wkoju01vtHVv0vBTYx8ysAfjbGlHo14X5mvpWIXtRaT44SwFr7PIA7ieiA1npTL4DbmfllAMfTNF1VKBSqo4Co1WpnKqWOATiLiDZrrV/tCtBoNHSj0RCvHyOip7XWD40CIIqiGSK6H0DF9/3Vvu/HXQHkx1qtNqmUelac0PO89blc7sNTgajX69e2Wq33xAnTNJ0qFAp7+lpxGIYqk8m8C2CdEKdpenWhUDjhXMPA1Gq1klLqY1EUwAfNZvOGTnPrehu66/UTdyKOMfM6Y8yvwxS31p4vRQGsks73PO+q9vXdV4H2QzcLHHLG9K0zpx+XArGwsHBBkiSi4hoAofyBfD7/dbd3+86E1lqx5XekewH8opS6OQiCLwdcUBMA3nQDzHEH/nmvdwYOpdZaSXgQwLkAxCknjTGvdUvozGavG07E1jcYY77qBzwQQF4Ow/CiTCZzAMAEETER7VxcXJxuN5Rr3O0yPzDLYzpCRLcEQfDDoC1bEoAkiaIoIKIXANwm34lIjtZmV2AfM1/vPr/OzHfl83lRa+BaMkA7k7VWzOlJOdfM/JuDOc9NUI9prWU+XPIaGkAyx3G8nplfArDCVSoT0Rattagy1FoWgFSoVqvneJ63SzYcwH1a68pQlV3wsgGWU2xoHxhVkVM+hv8myGnfgj8APunHUExGcswAAAAASUVORK5CYII="},"183":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA8dJREFUWEftl19oU1ccx78nt6nW7qEdU/tg2VZ80RVkIIIgjLpqtQ+2U9xgSDHc5Iq4xzHFwQb+eeieJyJUBqUU2yEDWW/tZuOe7GhHoTK7FYvK6p+YPKzY9prc5Px+ctImy01v0ptYcQ8eCFzOPed8P+d3v7/fORH9/f0aXmMTbwD+1xFoj0QaNaKgAJoB1AOQYJ5mosGEEBd/3rQpouyzu7u7bo1tHxdE+wFsFsAaAv7xCRFGRcWlgUDgdiGbuXrgw0ikooHoOwGcYGYNzEj/VCNKPwtmi+fnT1ojI/ABnQyscxVhZhbi4mxt7Zcjhw/b+WOWAXwwOaltqan5iYlas8IZACJw5tm2kRgbAycSXnPIHNu1qy22devSThanLQM49PDhORCdyuxUQWRFl3av+pJ370I+eeJVPD2Ohfh2MBQ6nzvJAXDg0aN3/bb9F5gr06I5gplosOqTEonR0cX3pbWU1LQtQ7p+PzPNAfDJ9PQZwXw6LZYjnh8Bmp1FcmqqNOmsoug0Q6GvXQEOTk39DqLt2bDnRUCBCCKkolHImZnyAIBx0zB2uAPcuRNlorez5ss1XY4R5dOnkJF0BpbT5kzDqHUHmJiwmKiyUAQyYDIWg4Ios9mmYWRT1uGB9vHx+5CyvmgEmKE88BIRmDEN4313E46O9rGUh7Kmy88E9UlUOlkW5OPHZQVAAFcHDOMzV4D2W7c+Zym7HQUo3wfKmMqI5ZpQiA4zFOp1Bfh4crK6OhqdFkTr3YpPbp+MRoFUqtQoxBIbN24ebmtbcAVQnQeGh49BygsZIwpVCfMLEhHo2TNwPF4SAPt8JwaDwUsFK6F60XDjhq8xmRxioqZcMzqAFFQ8Dl7IbsQLyM2/Gxpa7jU3O8qn62m4Oxyuq56bGwFzveNTpAv64snIqRR4ft6LsBozE1+7dme4o2NZ8Sh4JWu9dq1RSybDjsKUezCpZw8RYOBfoWlNpq7/6UZb9E7Y0te3vYL5Oohqlh3NCsC2/7snuMdiVvp8+4aCwT8KhWrFS+neK1e2+ZPJQTBvUOnnWiPcV48KTds/oOsTxb7TigBq8t7e3vf88fhVJtrmuB0VXvl2yu8/+Esg8GAlk3gCUIs09fSsq7KsLgCfFt2RED9aVVX6zSNHrJXE1XvPAJnFWru6vgLRWQCOPzRCXVOE+OZ6KNTpRbhgIfIyueXy5T2alD8AqFsaH4GmBUxd/9XL/KKFyOsCH/X0vPPW8+ffg1ksVFZ+8dvRozGvc1cFoByxkuvAaom8dBq+SpCSs2C1YV4A4Oe3X6ccSAsAAAAASUVORK5CYII="},"184":function(e,t,n){e.exports={"like":"index-module__like___161qY","text":"index-module__text___2zOhr","liked_text":"index-module__liked_text___2LCp2"}},"185":function(e,t,n){"use strict";var a=n(5),c=n(26),o=n(175),i=n(0),r=n.n(i),s=n(4),l=n(12),d=n(1),m=n(193),u=n.n(m),_=n(143),x=n(167),p=n(45),j=n(168),b=n(178),h=n.n(b),f=n(142);var O=u()((function CommentCard(e){var t=e.comment,n=void 0===t?"":t,a=e.comment_score,o=void 0===a?10:a,i=e.comment_avatar,m=void 0===i?"https://x0.ifengimg.com/fe/custom/default_avatar.png":i,u=e.comment_userName,b=void 0===u?"凤凰网友":u,O=e.works_common_score,g=e.works_coverImage,w=void 0===g?"https://x0.ifengimg.com/fe/custom/works_default.png":g,A=e.works_expert_score,v=e.works_name,C=e.works_category,y=e.works_common_count,N=e.pageUrl,k=e.works_rank_year,T=e.works_rank_type,I=e.works_rank,B=e.works_platform,S=Object(c.useState)({}),F=Object(l.a)(S,2),V=F[0],E=F[1],D={"芒果TV":"https://x0.ifengimg.com/ucms/2021_47/3500DDB33A445A1BF308A479B0F4FA864E4BAC61_size1_w34_h34.png","优酷视频":"https://x0.ifengimg.com/ucms/2021_47/80A571BA0BF7D65748E14E967E42B01B3B642146_size1_w34_h34.png","爱奇艺":"https://x0.ifengimg.com/ucms/2021_47/674AFB207F9BA484179D9E126BE57A93808E11F2_size1_w34_h34.png","腾讯视频":"https://x0.ifengimg.com/ucms/2021_47/14AF5F3E3ABF3A35B4AB69945C2AE46FD3735B9D_size1_w34_h34.png","哔哩哔哩":"https://x0.ifengimg.com/ucms/2021_47/08CD1939C13A8E6C060AA9F0BCC2C50D5E3968E7_size1_w34_h34.png","搜狐视频":"https://x0.ifengimg.com/ucms/2021_01/1629BBBFC788CFA87398361BBBE0A0036478635D_size1_w34_h34.png","百视TV":"https://x0.ifengimg.com/ucms/2021_01/EF2BCFF7B76B16A4589C34834DE96B2432ADE205_size2_w34_h34.png","乐视视频":"https://x0.ifengimg.com/ucms/2021_01/3032404AD488478F32601AD80C916F5A514A5B81_size1_w34_h34.png","抖音":"https://x0.ifengimg.com/ucms/2021_01/10B5F1FFF89E9426AFD0397B5018B05A320E2C58_size1_w34_h34.png","西瓜视频":"https://x0.ifengimg.com/ucms/2021_01/1629BBBFC788CFA87398361BBBE0A0036478635D_size1_w34_h34.png","欢喜首映":"https://x0.ifengimg.com/ucms/2021_01/88DF7E7FA15053DD2B80EEB94ED42E8E9547152A_size1_w34_h34.png"},R=function(){var e=Object(s.a)(r.a.mark((function _callee(){var e;return r.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:e=Object(p.d)(N),E(e);case 2:case"end":return t.stop()}}),_callee)})));return function wxQrcodeHandle(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(d.showLoading)({"title":"海报生成中...","mask":!0}),R(),setTimeout(Object(s.a)(r.a.mark((function _callee2(){var t,n;return r.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.create();case 2:return t=a.sent,a.next=5,Object(d.canvasToTempFilePath)({"canvas":t,"fileType":"jpg"});case 5:return n=a.sent,a.next=8,Object(d.saveImageToPhotosAlbum)({"filePath":n.tempFilePath,"fail":function fail(){d.default.eventCenter.trigger("commentPoster",null),Object(d.hideLoading)(),Object(d.showModal)({"title":"温馨提示","content":"需要您授权相册权限","success":function success(e){e.confirm&&Object(d.openSetting)({"success":function success(){}})},"fail":function fail(){console.log("用户点击了取消"),e.onClose&&e.onClose()}})},"success":function success(){Object(d.hideLoading)(),e.onClose&&e.onClose(),d.default.eventCenter.trigger("commentPoster",null),Object(d.showToast)({"title":"快去相册看看吧","icon":"success","duration":3e3})}});case 8:case"end":return a.stop()}}),_callee2)}))),500)}),[]),Object(f.jsx)(_.View,{"className":h.a.commentMask,"children":Object(f.jsxs)(_.View,{"className":h.a.wxShareScreenShots,"ref":e.refs,"children":[Object(f.jsx)(_.View,{"className":h.a.posterBg}),Object(f.jsxs)(_.View,{"className":h.a.commentCard,"children":[Object(f.jsxs)(_.View,{"className":h.a.content,"children":[Object(f.jsxs)(_.View,{"className":h.a.content_top,"children":[Object(f.jsxs)(_.View,{"className":h.a.comment_avatar,"children":[Object(f.jsx)(j.a,{"avatarUrl":m}),Object(f.jsx)(_.Text,{"className":h.a.nickname,"children":b}),Object(f.jsx)(_.Text,{"className":h.a.nicktip,"children":"评价了"})]}),Object(f.jsx)(_.View,{"className":h.a.workname_wrap,"children":Object(f.jsx)(_.Text,{"className":h.a.workname,"children":"《".concat(v,"》")})}),Object(f.jsxs)(_.View,{"className":h.a.scoreWrap,"children":[Object(f.jsx)(_.Text,{"className":h.a.score,"children":Number(o).toFixed(1)}),Object(f.jsx)(_.View,{"className":h.a.star_wrap,"children":Object(f.jsx)(x.a,{"score":o/2,"starSize":18})})]}),Object(f.jsx)(_.View,{"className":h.a.descwrap,"children":Object(f.jsx)(_.Text,{"className":h.a.desc,"children":n.replace(/\n/g,"")})})]}),Object(f.jsx)(_.View,{}),Object(f.jsxs)(_.View,{"className":h.a.bottom,"children":[Object(f.jsx)(_.Image,{"className":h.a.work_poster,"src":w}),Object(f.jsxs)(_.View,{"className":h.a.bottomRight,"children":[Object(f.jsx)(_.View,{"className":h.a.bottomRightTop,"children":Object(f.jsx)(_.Text,{"className":h.a.workname_text,"children":v})}),Object(f.jsxs)(_.View,{"className":h.a.bottom_worktype,"children":[Object(f.jsx)(_.View,{"className":h.a.worksType,"children":Object(f.jsx)(_.Text,{"children":{"tv-play":"剧集","movie":"电影","variety":"综艺"}[C]})}),Object(f.jsx)(_.View,{"className":h.a.workrank,"style":"color:#3091F5;","children":Object(f.jsx)(_.Text,{"children":0===I?"暂未上榜":function generateRank(){return"year"===T?"".concat(k,"年TOP").concat(I):"实时榜".concat(I)}()})})]}),B.length?Object(f.jsxs)(_.View,{"className":h.a.platform,"children":[B.length&&Object(f.jsx)(_.Text,{"className":h.a.platform_text,"children":"平台："}),B.length&&B.slice(0,6).map((function(e){return Object(f.jsx)(_.Image,{"className":h.a.platform_img,"src":D[e]},e)}))]}):null,Object(f.jsxs)(_.View,{"className":h.a.bottom_right_bottom,"children":[Object(f.jsxs)(_.View,{"className":h.a.rateCard,"children":[Object(f.jsx)(_.View,{"className":h.a.rateTitle,"children":Object(f.jsx)(_.Text,{"className":h.a.title_text,"children":"大众评分"})}),Object(f.jsx)(_.View,{"className":h.a.peopleRate,"children":Object(f.jsx)(_.Text,{"className":h.a.rateText,"children":y>100&&0!==parseInt(O)?Number(O).toFixed(1):"暂无"})})]}),Object(f.jsxs)(_.View,{"className":h.a.rateCard,"children":[Object(f.jsx)(_.View,{"className":h.a.rateTitle,"children":Object(f.jsx)(_.Text,{"className":h.a.title_text,"children":"专家评分"})}),Object(f.jsx)(_.View,{"className":h.a.peopleRate,"children":Object(f.jsx)(_.Text,{"className":h.a.rateText,"children":A&&0!==parseInt(A)?Number(A).toFixed(1):"暂无"})})]})]})]})]})]}),Object(f.jsxs)(_.View,{"className":h.a.logo,"children":[Object(f.jsx)(_.Image,{"className":h.a.ifengLogo,"src":"https://x0.ifengimg.com/fe/custom/poster_bottom.png"}),Object(f.jsx)(_.Image,{"className":h.a.qrcode,"src":V})]})]})]})})}));t.a=function CommentCapture(){var e=Object(o.a)();return e?Object(f.jsx)(O,Object(a.a)({},e)):null}},"188":function(e,t,n){},"191":function(e,t,n){"use strict";n.d(t,"a",(function(){return Reply}));var a=n(12),c=n(26),o=n(143),i=n(145),r=n.n(i),s=n(199),l=n.n(s),d=n(142),m=r.a.bind(l.a);function Reply(e){var t=e.value,n=Object(c.useState)(0),i=Object(a.a)(n,2),r=i[0],s=i[1],u=Object(c.useState)(e.value),_=Object(a.a)(u,2),x=_[0],p=_[1];return Object(c.useEffect)((function(){p(t)}),[t]),Object(d.jsx)(o.View,{"className":l.a.reply,"children":Object(d.jsxs)(o.View,{"className":l.a.wrapper,"style":{"bottom":r},"children":[Object(d.jsx)(o.Textarea,{"className":l.a.textArea,"value":x,"adjustPosition":!1,"onInput":function onInput(e){p(e.detail.value)},"onKeyboardHeightChange":function onKeyboardHeightChange(e){setTimeout((function(){s(e.detail.height)}),0)},"placeholder":e.replyUserName?"回复 ".concat(e.replyUserName):"评论","maxlength":-1}),Object(d.jsx)(o.View,{"style":{"display":"flex","height":"40px","justifyContent":"flex-end","alignItems":"center"},"children":Object(d.jsxs)(o.View,{"style":{"display":"flex"},"children":[Object(d.jsxs)(o.View,{"style":{"marginRight":"10px","display":"flex","justifyContent":"center","flexDirection":"column","fontSize":"14px","color":x&&x.length>300?"red":"#999"},"children":[x?x.length:0,"/300"]}),Object(d.jsx)(o.View,{"onClick":function submit(){x&&e.onSubmit&&e.onSubmit({"comment":x})},"className":m("submitBtn",{"active":x&&x.length>0}),"children":"发布"})]})})]})})}},"194":function(e,t,n){"use strict";var a=n(0),c=n.n(a),o=n(5),i=n(4),r=n(12),s=n(1),l=n(26),d=n(143),m=n(151),u=n.n(m),_=n(186),x=n.n(_),p=(n(187),n(152)),j=(n(29),n(195)),b=n(191),h=n(170),f=n(21),O=n(19),g=n(200),w=n.n(g),A=n(144),v=n(142);function Comment(e){var t=e.commentCount,n=void 0===t?10:t,a=(e.id,Object(l.useState)(e.comments||[])),m=Object(r.a)(a,2),u=m[0],_=m[1],x=Object(l.useRef)(null),g=Object(l.useState)(!1),A=Object(r.a)(g,2),C=A[0],y=A[1],N=Object(l.useState)(null),k=Object(r.a)(N,2),T=k[0],I=k[1],B=Object(l.useState)(""),S=Object(r.a)(B,2),F=S[0],V=S[1],E=Object(l.useState)(!1),D=Object(r.a)(E,2),R=D[0],z=D[1];function _fetchDataById(){return(_fetchDataById=Object(i.a)(c.a.mark((function _callee2(e,t){var n;return c.a.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(p.d)(e,t);case 2:200===(n=a.sent).code&&_([n.data].concat(u).filter((function(e){return e})));case 4:case"end":return a.stop()}}),_callee2)})))).apply(this,arguments)}function _fetchWorksById(){return(_fetchWorksById=Object(i.a)(c.a.mark((function _callee3(t){var n,a,o,i,r,l,d,m,u,_;return c.a.wrap((function _callee3$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(p.k)(t);case 2:(n=c.sent)&&null!=n&&n.dramaContent&&s.default.eventCenter.trigger("commentPoster",{"comment":e.comment||"","comment_score":e.movieGrade||0,"comment_avatar":e.commentUserImgSrc||"https://x0.ifengimg.com/fe/custom/default_avatar.png","comment_userName":e.commentUserName||"凤凰网友","works_common_score":null==n||null===(a=n.dramaContent)||void 0===a?void 0:a.publicScore,"works_coverImage":JSON.parse(null==n||null===(o=n.dramaContent)||void 0===o?void 0:o.coverImage)[0],"works_expert_score":null==n||null===(i=n.dramaContent)||void 0===i?void 0:i.performanceScore,"works_name":null==n||null===(r=n.dramaContent)||void 0===r?void 0:r.title,"works_category":null==n||null===(l=n.dramaContent)||void 0===l?void 0:l.category,"works_common_count":null==n||null===(d=n.dramaContent)||void 0===d?void 0:d.publicScorePeople,"pageUrl":"pages/detail/index?dramaId=".concat(null==n||null===(m=n.dramaContent)||void 0===m?void 0:m.dramaId),"works_rank_year":null==n?void 0:n.year,"works_rank_type":null==n?void 0:n.type,"works_rank":null==n?void 0:n.ranking,"works_platform":null!=n&&null!==(u=n.dramaContent)&&void 0!==u&&u.platform?JSON.parse(null==n||null===(_=n.dramaContent)||void 0===_?void 0:_.platform):[]});case 4:case"end":return c.stop()}}),_callee3)})))).apply(this,arguments)}function sendComment(e){var t=t||x.current;if(t&&e){var n={"subjectId":t.subjectId,"comment":e,"rootId":"0"===t.rootId?t.id:t.rootId,"pId":t.id,"appId":f.b};Object(p.a)(n).then((function(e){V(""),y(!1),200===e.code?(Object(s.showToast)({"title":"发表成功","icon":"success"}),function fetchDataById(e,t){return _fetchDataById.apply(this,arguments)}(e.message,t.subjectId)):(e.code,Object(s.showToast)({"title":e.message,"icon":"none"}))}))}}function callInput(e){I(e),x.current=e,function openNativeComment(e){var t={"placeholder":"回复".concat(e.commentUserName),"maxSize":200,"limit":200,"additional":["emoji"]};window.inputFromClient=function(e){var t=JSON.parse(e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")).text.trim();t&&sendComment(t)},window.grounds.openInput?window.grounds.openInput(JSON.stringify(t),"inputFromClient"):window.grounds.input(JSON.stringify(t),"inputFromClient")}(e)}return Object(l.useEffect)((function(){e.comments&&_(e.comments?e.comments:[])}),[e.comments,e.commentCount]),s.default.useShareAppMessage((function(){return{"title":"一起来看看精彩评论吧"}})),Object(v.jsxs)(d.View,{"className":w.a.comment,"children":[Object(v.jsxs)(j.a,Object(o.a)(Object(o.a)({},e),{},{"fontSize":16,"onReply":function onReply(t){e.local||(e.needReply&&!e.onParentReply&&(I(e),callInput(e)),e.onParentReply&&e.onParentReply(e))},"onShare":function onShare(){e.local||e.subjectId&&function fetchWorksById(e){return _fetchWorksById.apply(this,arguments)}(e.subjectId)},"onMoreActionClick":function onMoreActionClick(){I(e),z(!0)},"children":[u&&u.length&&!e.hideMore?u.map((function(t){if((null==t?void 0:t.pid)!==(null==t?void 0:t.rootId)){var n=u.find((function(e){return(null==e?void 0:e.id)===(null==t?void 0:t.pid)}));n&&(t.replyUser=n.commentUserName)}return Object(v.jsx)(j.a,Object(o.a)({"showRate":!1,"showShare":!1,"avatarSize":25,"fontSize":14,"size":"small","onReply":function onReply(n){e.local||(e.needReply?(I(t),callInput(t)):e.onReply&&e.onReply(n))},"onMoreActionClick":function onMoreActionClick(){I(t),z(!0)}},t),null==t?void 0:t.id)})):null,!e.local&&u&&n>3&&!e.hideMore?Object(v.jsxs)(d.View,{"style":{"color":"#4d4d4d","display":"flex","alignItems":"center"},"className":w.a.moreComment,"onClick":function onClick(){s.default.navigateTo({"url":"/pages/subPages/comment/people/detail/index?id=".concat(e.id,"&subjectId=").concat(e.subjectId,"&appId=").concat(f.b,"&score=").concat(e.movieGrade)})},"children":["查看全部".concat(n,"条"),Object(v.jsx)(d.Image,{"style":{"width":"11px","height":"11px","marginLeft":"4px"},"src":"".concat("https://x0.ifengimg.com/fe/ifengVane","/icon_right.png")})]}):null]})),Object(v.jsxs)(d.View,{"children":[Object(v.jsx)(h.a,{"isOpened":C,"cancelText":"","onClose":function onClose(){y(!1)},"onCancel":function onCancel(){y(!1)},"children":C?Object(v.jsx)(b.a,{"replyUserName":(null==T?void 0:T.commentUserName)||"","onSubmit":function handleSubmit(e){var t=e.comment;t.length>300?Object(s.showToast)({"title":"最多只能输入300个字","icon":"none"}):t.trim()?!function isAuth(){var e=Object(s.getStorageSync)("userInfo");return!!e&&e.avatarUrl===e.userAvatar}()?Object(O.d)():sendComment(t):Object(s.showToast)({"title":"您还没有输入内容哟","icon":"none"})},"value":F}):null}),Object(v.jsx)(h.a,{"isOpened":!!R,"title":"评论详情","cancelText":"","onClose":function onClose(){z(!1)},"onCancel":function onCancel(){z(!1)},"showDownArrow":!0,"children":R?Object(v.jsx)(d.View,{"style":{"padding":"0 15px 15px 15px","maxHeight":"80vh","overflowY":"scroll"},"children":Object(v.jsx)(j.a,Object(o.a)(Object(o.a)({},T),{},{"needFold":!1}))}):null})]})]})}u.a.extend(x.a),u.a.locale("zh-cn"),t.a=Object(A.a)(Object(l.memo)(Comment))},"195":function(e,t,n){"use strict";var a=n(12),c=n(26),o=n.n(c),i=n(1),r=n(143),s=n(151),l=n.n(s),d=(n(187),n(145)),m=n.n(d),u=n(186),_=n.n(u),x=n(168),p=n(167),j=n(181),b=n(45),h=n(196),f=n.n(h),O=(n(152),n(197)),g=n.n(O),w=n(198),A=n.n(w),v=n(142),C=m.a.bind(A.a);function CommentNum_Like(e){var t=e.total,n=void 0===t?0:t,o=(e.bisId,e.isLiked),i=void 0!==o&&o,s=e.size,l=void 0===s?16:s,d=(e.subjectId,Object(c.useState)(n)),m=Object(a.a)(d,2),u=m[0],_=m[1],x=Object(c.useState)(i),p=Object(a.a)(x,2),j=p[0],b=p[1];return Object(c.useEffect)((function(){_(n),b(i)}),[n,i]),Object(v.jsxs)(r.View,{"className":A.a.like,"children":[Object(v.jsx)(r.Image,{"style":{"width":"".concat(l,"px"),"height":"".concat(l,"px")},"src":g.a}),Object(v.jsx)(r.Text,{"className":C("text",{"liked_text":j}),"children":function formatCount(e){return 0===e?"0":e>1e4?(e/1e4).toFixed(1)+"万":""+e}(u)})]})}l.a.extend(_.a),l.a.locale("zh-cn");var y=m.a.bind(f.a);function CommentItem(e){var t=e.comment,n=void 0===t?"":t,o=e.avatarSize,s=void 0===o?32:o,d=e.showRate,m=void 0===d||d,u=(e.fontSize,e.showReply),_=void 0===u||u,h=e.showShare,O=void 0===h||h,g=e.isFriend,w=void 0!==g&&g,A=e.onReply,C=(e.onMoreActionClick,e.onShare,e.id),N=void 0===C?"":C,k=e.updateTime,T=e.createTime,I=e.commentUserId,B=e.commentUserName,S=e.commentUserImgSrc,F=e.subjectId,V=void 0===F?"":F,E=e.movieGrade,D=void 0===E?10:E,R=e.userLikeStatus,z=void 0===R?0:R,W=e.likeCount,U=void 0===W?0:W,L=e.replyUser,M=void 0===L?"":L,P=e.commentUserDesc,Q=void 0===P?"common":P,G=e.commentUserRank,X=void 0===G?"common":G,H=e.commentCount,K=e.size,Y=void 0===K?"normal":K,q=e.checkStatus,J=e.subjectType,Z=void 0===J?"default":J,$=e.clipNum,ee=void 0===$?500:$,te=e.isHighQuality,ne=e.showTitle,ae=e.title,ce=Object(c.useState)(!1),oe=Object(a.a)(ce,2),ie=oe[0],re=oe[1],se=Object(c.useState)(!1),le=Object(a.a)(se,2),de=le[0],me=le[1];i.default.usePageScroll((function(){de&&me(!1)}));function clipComment(e,t){return e.length>t?"".concat(e.slice(0,t),"..."):e}var ue=n?M?"回复@".concat(M,"： ").concat(clipComment(n,ee)):clipComment(n,ee):"",_e=n?M?"回复@".concat(M,"： comment"):n:"",xe="number"==typeof q&&{"0":"你的评论正在审核中","2":"该评论涉嫌违规，已被删除"}[q],pe=function onStretch(e){me(!1),re(e)};return i.default.useDidHide((function(){i.default.eventCenter.off("hideJubao")})),i.default.eventCenter.on("hideJubao",(function(){me(!1)})),Object(v.jsxs)(r.View,{"className":f.a.CommentItem,"children":[1==te&&Object(v.jsx)(r.View,{"className":f.a.goodComment}),Object(v.jsxs)(r.View,{"className":f.a.comment,"children":[Object(v.jsx)(r.View,{"className":f.a.left,"onClick":function gotoPage(){Object(b.f)(I)},"children":Object(v.jsx)(x.a,{"isAnonymous":!1,"avatarUrl":S,"size":s,"isFriend":w,"isExpert":"expert"===X})}),Object(v.jsxs)(r.View,{"className":f.a.right,"children":[Object(v.jsxs)(r.View,{"className":f.a.top,"children":[Object(v.jsxs)(r.View,{"className":f.a.personInfo,"children":[Object(v.jsx)(r.View,{"className":f.a.name,"children":Object(v.jsx)(r.View,{"className":f.a.text,"children":B||"凤凰网友".concat(null==I?void 0:I.slice(-6))})}),Object(v.jsx)(r.View,{"className":f.a.rate,"children":m&&"listContent"!==Z?Object(v.jsx)(p.a,{"score":D/2,"starSize":10,"margin":2}):null})]}),Object(v.jsxs)(r.View,{"className":f.a.action,"onClick":function changeShow(e){me(!de),e.stopPropagation()},"children":[Object(v.jsx)(r.Image,{"className":f.a.more,"src":"https://x0.ifengimg.com/ucms/2022_22/86BB819843485DCB51E346F6003A059127FB7EE8_size0_w44_h20.png"}),de&&Object(v.jsx)(r.View,{"className":f.a.jubao,"onClick":function onClick(){i.default.navigateTo({"url":"/pages/subPages/report/index?id=".concat(N,"&commentUserId=").concat(I,"&subjectId=").concat(V,"&subjectType=").concat(Z)})},"children":"举报"})]})]}),Object(v.jsx)(r.View,{"className":f.a.desc,"children":"nothing"===Q||"common"===Q?"":Q}),ne&&Object(v.jsx)(r.View,{"onClick":function gotoDetail(){"listContent"===Z?Object(b.e)("/pages/subPages/filmDetail/index?listId=".concat(V,"&type=").concat(Z)):Object(b.e)("/pages/subPages/detail/index?dramaId=".concat(V,"&shareLine=id-").concat(V,"!type-ch"))},"children":Object(v.jsxs)(r.Text,{"className":y({"greenTitle":"listContent"===Z,"redTitle":"listContent"!==Z}),"children":["Ta评价","listContent"===Z?"片单":"","《",ae,"》"]})}),Object(v.jsx)(r.View,{"className":f.a.middle,"onClick":function onClick(t){t.stopPropagation(),A&&A(e)},"children":e.needFold?Object(v.jsxs)(r.View,{"className":y("text",{"nomalSize":"normal"===Y,"smallSize":"small"===Y}),"children":[M?Object(v.jsxs)(r.Text,{"children":["回复 ",Object(v.jsx)(r.Text,{"children":M})]}):null,ie?Object(v.jsx)(r.Text,{"selectable":!0,"dangerouslySetInnerHTML":{"__html":xe||Object(b.b)(_e)}}):Object(v.jsx)(r.Text,{"selectable":!0,"dangerouslySetInnerHTML":{"__html":xe||Object(b.b)(ue)}}),n.length>ee&&!ie?Object(v.jsx)(r.Text,{"onClick":function onClick(e){e.stopPropagation(),pe(!0)},"style":{"color":"#3091F5"},"children":"展开"}):null,n.length>ee&&ie?Object(v.jsx)(r.Text,{"onClick":function onClick(e){e.stopPropagation(),pe(!1)},"style":{"color":"#3091F5"},"children":"收起"}):null]}):Object(v.jsxs)(r.Text,{"className":y("text",{"nomalSize":"normal"===Y,"smallSize":"small"===Y}),"style":{"opacity":xe?.5:1},"children":[M?Object(v.jsxs)(r.Text,{"className":f.a.replytip,"style":{"color":"#9e9e9e"},"children":["回复"," ",Object(v.jsxs)(r.Text,{"className":f.a.replyUser,"style":{"color":"#212223"},"children":[M," "]})]}):null,Object(v.jsx)(r.Text,{"dangerouslySetInnerHTML":{"__html":xe||Object(b.b)(n)}})]})}),Object(v.jsxs)(r.View,{"className":f.a.bottom,"children":[Object(v.jsxs)(r.View,{"className":f.a.time,"children":[l()(k||T).fromNow(),_?Object(v.jsx)(r.Text,{"className":f.a.gap,"children":"|"}):null,_?Object(v.jsx)(r.Text,{"onClick":function onClick(t){t.stopPropagation(),A&&A(e)},"style":{"color":"#212223"},"children":"回复"}):null]}),Object(v.jsxs)(r.View,{"className":f.a.moreAction,"children":[Object(v.jsx)(r.View,{"className":f.a.likeWrap,"children":null!==U?Object(v.jsx)(j.a,{"size":16,"total":U,"bisId":N,"subjectId":V,"isLiked":!!z}):null}),O&&H?Object(v.jsx)(r.View,{"className":f.a.commentNum,"children":Object(v.jsx)(CommentNum_Like,{"total":H,"size":16})}):"",Object(v.jsx)(r.View,{"className":f.a.share})]})]}),e.children]})]})]})}t.a=o.a.memo(CommentItem)},"196":function(e,t,n){e.exports={"CommentItem":"index-module__CommentItem___2VFo4","goodComment":"index-module__goodComment___2iiAT","comment":"index-module__comment___39rLo","left":"index-module__left___P4ecr","avatar":"index-module__avatar___2HeSq","myFriend":"index-module__myFriend___2Btrr","right":"index-module__right___3EOIX","top":"index-module__top___2pFJ7","personInfo":"index-module__personInfo___jAYDe","name":"index-module__name___3eoz2","text":"index-module__text___6VePv","replytip":"index-module__replytip___6K3Gv","replyUser":"index-module__replyUser___3s0Rb","rate":"index-module__rate___3usoB","action":"index-module__action___ENeY-","more":"index-module__more___2haQu","jubao":"index-module__jubao___10kq1","desc":"index-module__desc___2NB7u","middle":"index-module__middle___2Bpv-","textWrap":"index-module__textWrap___wtNOu","nomalSize":"index-module__nomalSize___3oLAh","smallSize":"index-module__smallSize___3MhoL","bottom":"index-module__bottom___2GrJw","time":"index-module__time___1xJtj","gap":"index-module__gap___1v0Ca","moreAction":"index-module__moreAction___d70GS","share":"index-module__share___JmODt","commentNum":"index-module__commentNum___1D1Oy","greenTitle":"index-module__greenTitle___1Ra5x","redTitle":"index-module__redTitle___1p2WG"}},"197":function(e,t){e.exports="data:image/png;base64,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"},"198":function(e,t,n){e.exports={"like":"index-module__like___22lNg","text":"index-module__text___8eC3b","liked_text":"index-module__liked_text___36bi4"}},"199":function(e,t,n){e.exports={"reply":"index-module__reply___2Y27Z","wrapper":"index-module__wrapper___2n4TS","textArea":"index-module__textArea___3Gvp2","submitBtn":"index-module__submitBtn___2fxyO","active":"index-module__active___m8GsV"}},"200":function(e,t,n){e.exports={"comment":"index-module__comment___7V51f","moreComment":"index-module__moreComment___2Zrqs"}},"205":function(e,t,n){"use strict";n.d(t,"a",(function(){return NoMore}));n(26);var a=n(143),c=(n(206),n(142));function NoMore(e){var t=e.text,n=void 0===t?"没有更多了":t;return Object(c.jsx)(a.View,{"className":"NoMore","children":n})}},"206":function(e,t,n){},"316":function(e,t,n){e.exports={"peopleCommentDetail":"index-module__peopleCommentDetail___3Q3xw","commentList":"index-module__commentList___3ablt","gap":"index-module__gap___1fdBT","mainFloor":"index-module__mainFloor___3B2OD","replyList":"index-module__replyList___1hxNr","title":"index-module__title___2NSlH","reply":"index-module__reply___2XNb6","input":"index-module__input___POAyP","placeholder":"index-module__placeholder___3VUUW"}},"414":function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(5),i=n(4),r=n(12),s=n(26),l=n.n(s),d=n(1),m=n(143),u=n(152);n(29);var _=function useCommentDetail(e,t){var n=Object(s.useState)({}),a=Object(r.a)(n,2),o=a[0],l=a[1],d=Object(s.useState)(!0),m=Object(r.a)(d,2),_=m[0],x=m[1],p=Object(s.useState)(""),j=Object(r.a)(p,2),b=j[0],h=j[1];return Object(s.useEffect)((function(){e&&t&&function(){var n=Object(i.a)(c.a.mark((function _callee(){var n;return c.a.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(u.d)(e,t);case 3:200===(n=a.sent).code?(l(n.data),x(!1)):0===n.code&&(h(n.message),x(!1)),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),h(a.t0),x(!1);case 11:case"end":return a.stop()}}),_callee,null,[[0,7]])})));return function fetchData(){return n.apply(this,arguments)}}()()}),[e,t]),{"comment":o,"loading":_,"error":b}};var x=function useReplyList(e,t,n){var a=Object(s.useState)([]),o=Object(r.a)(a,2),l=o[0],d=o[1],m=Object(s.useState)(0),_=Object(r.a)(m,2),x=_[0],p=_[1],j=Object(s.useState)(!0),b=Object(r.a)(j,2),h=b[0],f=b[1],O=Object(s.useState)(""),g=Object(r.a)(O,2),w=g[0],A=g[1];return Object(s.useEffect)((function(){t&&n&&function(){var a=Object(i.a)(c.a.mark((function _callee(){var a,o;return c.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a={"pagination":{"current":e,"pageSize":10},"query":{"rootId":t,"subjectId":n,"commentUserRank":"common","queryNextRankComment":!1},"sort":{"key":"createTime","type":"asc"}},c.next=4,Object(u.f)(a);case 4:200===(o=c.sent).code&&(d(1===e?o.data.list:l.concat(o.data.list)),p(o.data.pagination.total),f(!1)),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),A(c.t0),f(!1);case 12:case"end":return c.stop()}}),_callee,null,[[0,8]])})));return function fetchData(){return a.apply(this,arguments)}}()()}),[e,t,n]),{"replyList":l,"total":x,"loading":h,"error":w,"setReplyList":d}},p=n(149),j=n(194),b=n(195),h=n(173),f=n(170),O=n(191),g=n(21),w=n(185),A=n(205),v=n(316),C=n.n(v),y=n(19),N=n(142);t.default=function Detail(){var e=d.default.useRouter().params,t=e.id,n=e.subjectId,a=e.score,v=void 0===a?10:a,k=Object(s.useState)(1),T=Object(r.a)(k,2),I=T[0],B=T[1],S=Object(s.useState)(!1),F=Object(r.a)(S,2),V=F[0],E=F[1],D=Object(s.useState)(null),R=Object(r.a)(D,2),z=R[0],W=R[1],U=l.a.useRef(null),L=Object(s.useState)(""),M=Object(r.a)(L,2),P=M[0],Q=M[1],G=_(t,n),X=G.comment,H=G.loading,K=(G.error,X.id),Y=x(I,K,n),q=Y.replyList,J=Y.total,Z=Y.setReplyList;function _fetchDataById(){return(_fetchDataById=Object(i.a)(c.a.mark((function _callee2(e,t){var n,a;return c.a.wrap((function _callee2$(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(u.d)(e,t);case 2:200===(n=c.sent).code&&(n.data.pid&&n.data.rootId&&n.data.rootId!==n.data.pid&&(a=q.find((function(e){return e.id===n.data.pid})))&&null!=a&&a.commentUserName&&(n.data.replyUser=a.commentUserName),Z([n.data].concat(q)));case 4:case"end":return c.stop()}}),_callee2)})))).apply(this,arguments)}function sendComment(e){var t=t||U.current;if(t&&e){var n={"subjectId":t.subjectId,"comment":e,"rootId":"0"===t.rootId?t.id:t.rootId,"pId":t.id,"appId":g.b};Object(u.a)(n).then((function(e){Q(""),E(!1),200===e.code?(Object(d.showToast)({"title":"发表成功","icon":"success"}),function fetchDataById(e,t){return _fetchDataById.apply(this,arguments)}(e.message,t.subjectId)):(e.code,Object(d.showToast)({"title":e.message,"icon":"none"}))}))}}function callInput(e){W(e),U.current=e,function openNativeComment(e){var t={"placeholder":"回复".concat(e.commentUserName),"maxSize":200,"limit":200,"additional":["emoji"]};window.inputFromClient=function(e){var t=JSON.parse(e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")).text.trim();t&&sendComment(t)},window.grounds.openInput?window.grounds.openInput(JSON.stringify(t),"inputFromClient"):window.grounds.input(JSON.stringify(t),"inputFromClient")}(e)}return d.default.useReachBottom((function(){J>q.length&&B(I+1)})),Object(N.jsxs)(m.View,{"className":C.a.peopleCommentDetail,"children":[Object(N.jsx)(p.a,{"content":{"title":"评论详情","imageUrl":"https://x0.ifengimg.com/fe/custom/comment_bg.png","prevIcon":"https://x0.ifengimg.com/fe/ifengVane/icon_back.png","moreIcon":"https://x0.ifengimg.com/ucms/2021_47/F8097E8F89C929E2EDE42074519E4B35D8B418FC_size1_w96_h88.png","fizeColor":"#000"}}),Object(N.jsxs)(m.View,{"className":C.a.commentList,"children":[Object(N.jsx)(m.View,{"className":C.a.mainFloor,"children":X&&Object(N.jsx)(j.a,Object(o.a)(Object(o.a)({},X),{},{"hideMore":!0,"needReply":!0,"movieGrade":Number(v),"onParentReply":function onParentReply(){callInput(X)}}))}),Object(N.jsx)(m.View,{"className":C.a.gap}),Object(N.jsxs)(m.View,{"className":C.a.replyList,"children":[Object(N.jsx)(m.View,{"className":C.a.title,"children":"全部回复"}),q.length?q.map((function(e,t){var n,a=e.pid!==e.rootId?null===(n=q.find((function(t){return t.id===e.pid})))||void 0===n?void 0:n.commentUserName:"";return Object(N.jsx)(m.View,{"children":Object(N.jsx)(b.a,Object(o.a)(Object(o.a)({},e),{},{"onReply":function onReply(){callInput(e)},"replyUser":a,"index":t,"showRate":!1,"avatarSize":24,"showShare":!1}),e.id)},e.id)})):null,H?Object(N.jsx)(m.View,{"style":{"paddingTop":"50px","display":"flex","justifyContent":"center","alignItems":"center"},"children":Object(N.jsx)(h.a,{"size":30})}):null,!H&&q.length>=J?Object(N.jsx)(A.a,{}):null]}),Object(N.jsx)(m.View,{"className":C.a.reply,"children":Object(N.jsx)(m.View,{"className":C.a.wrapper,"children":Object(N.jsx)(m.View,{"className":C.a.input,"onClick":function onClick(){return callInput(X)},"children":Object(N.jsx)(m.Text,{"className":C.a.placeholder,"children":"我来说两句"})})})})]}),Object(N.jsx)(f.a,{"isOpened":V,"cancelText":"","onClose":function onClose(){E(!1)},"onCancel":function onCancel(){E(!1)},"children":V?Object(N.jsx)(O.a,{"replyUserName":(null==z?void 0:z.commentUserName)||"","onSubmit":function handleSubmit(e){var t=e.comment;t.length>300?Object(d.showToast)({"title":"最多只能输入300个字","icon":"none"}):t.trim()?!function isAuth(){var e=Object(d.getStorageSync)("userInfo");return!!e&&e.avatarUrl===e.userAvatar}()?Object(y.d)():sendComment(t):Object(d.showToast)({"title":"您还没有输入内容哟","icon":"none"})},"value":P}):null}),Object(N.jsx)(w.a,{})]})}}}]);